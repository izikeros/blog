
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="HandheldFriendly" content="True"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"/>
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap"
              rel="stylesheet">

        <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/stylesheet/style.min.css">



        <link id="pygments-light-theme" rel="stylesheet" type="text/css"
              href="https://www.safjan.com/theme/pygments/github.min.css">



    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/font-awesome/css/fontawesome.css">
    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/font-awesome/css/brands.css">
    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/font-awesome/css/solid.css">

        <link rel="stylesheet" type="text/css"
              href="https://www.safjan.com/styles/custom.css">

        <link href="https://www.safjan.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Krystian Safjan's Blog Atom">

        <link href="https://www.safjan.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate"
              title="Krystian Safjan's Blog RSS">


<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RM2PKDCCYM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RM2PKDCCYM');
</script>
<!-- End of Google tag (gtag.js) -->



    <meta name="author" content="Krystian Safjan"/>
    <meta name="description" content="LangChain RecursiveCharacterTextSplitter - Split by Tokens instead of Characters The LangChain RecursiveCharacterTextSplitter is a tool that allows you to split text on predefined characters that are considered as a potential division points. By default, the size of the chunk is in characters but …"/>
    <meta name="keywords" content="text-splitting, text-chunking, langchain, RecursiveCharacterTextSplitter, Tokens, Characters, natural-language-processing, language-modeling, chunk-size">
    <meta expr:content="2023-09-27 00:00:00+02:00" itemprop='datePublished'/>
    <meta expr:content="2023-09-27 00:00:00+02:00" itemprop='dateModified'/>
    <meta property="article:modified_time" content="2023-09-27 00:00:00+02:00"/>
    <meta property="article:published_time" content="2023-09-27 00:00:00+02:00"/>
    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "LangChain RecursiveCharacterTextSplitter - Split by Tokens instead of characters",
  "datePublished": "2023-09-27 00:00:00+02:00",
  "dateModified": "2023-09-27 00:00:00+02:00"
}

    </script>



  <meta property="og:site_name" content="Krystian Safjan's Blog"/>
  <meta property="og:title" content="LangChain RecursiveCharacterTextSplitter - Split by Tokens instead of characters"/>
  <meta property="og:description" content="LangChain RecursiveCharacterTextSplitter - Split by Tokens instead of Characters The LangChain RecursiveCharacterTextSplitter is a tool that allows you to split text on predefined characters that are considered as a potential division points. By default, the size of the chunk is in characters but …"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="https://www.safjan.com/langchain-recursivecharactertextsplitter-split-by-tokens-instead-of-characters/"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2023-09-27 00:00:00+02:00"/>
  <meta property="article:modified_time" content="2023-09-27 00:00:00+02:00"/>
  <meta property="article:author" content="https://www.safjan.com/author/krystian-safjan/">
  <meta property="article:section" content="note"/>
  <meta property="article:tag" content="text-splitting"/>
  <meta property="article:tag" content="text-chunking"/>
  <meta property="article:tag" content="langchain"/>
  <meta property="article:tag" content="RecursiveCharacterTextSplitter"/>
  <meta property="article:tag" content="Tokens"/>
  <meta property="article:tag" content="Characters"/>
  <meta property="article:tag" content="natural-language-processing"/>
  <meta property="article:tag" content="language-modeling"/>
  <meta property="article:tag" content="chunk-size"/>
  <meta property="og:image" content="/images/profile_new.jpg">

    <meta name="twitter:card" content="summary"/>
    <meta property="twitter:image" content="/images/profile_new.jpg">

    <meta name="twitter:label1" content="Est. reading time"/>
    <meta name="twitter:data1" content="4 min."/>
    <meta name="twitter:site" content="@izikeros"/>
    <meta name="twitter:description" content=""/>
    <meta name="twitter:title" content="LangChain RecursiveCharacterTextSplitter - Split by Tokens instead of characters"/>


    <title>    LangChain RecursiveCharacterTextSplitter - Split by Tokens instead of characters
</title>



<!-- Google Automatic Ads -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9767732578835199"
     crossorigin="anonymous"></script>
<!-- End of Google Automatic Ads -->


</head>
<body class="light-theme">
<aside>
    <div>
        <a href="https://www.safjan.com/">
                <img src="/images/profile_new.jpg" alt="Krystian Safjan's Blog" title="Krystian Safjan's Blog" width="140" height="140">
        </a>

        <h1>
            <a href="https://www.safjan.com/">Krystian Safjan's Blog</a>
        </h1>

<p>Data Scientist | Researcher | Team Leader<br><br> working at Ernst &amp; Young and writing about <a href="/category/machine-learning.html">Data Science and Visualization</a>, on <a href="/category/machine-learning.html">Machine Learning, Deep Learning</a> and <a href="/tag/nlp/">NLP</a>. There are also some  <a href="/category/howto.html">howto</a> posts on tools and workflows.</p>




        <ul class="social">
                <li>
                    <a  class="sc-linkedin" href="https://pl.linkedin.com/in/krystiansafjan"
                       target="_blank">
                        <i class="fab fa-linkedin"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-github" href="https://github.com/izikeros"
                       target="_blank">
                        <i class="fab fa-github"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-envelope" href="mailto:ksafjan@gmail.com"
                       target="_blank">
                        <i class="fas fa-envelope"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-graduation-cap" href="https://scholar.google.pl/citations?user=UlNJgMoAAAAJ"
                       target="_blank">
                        <i class="fas fa-graduation-cap"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-rss" href="/feeds/all.rss.xml"
                       target="_blank">
                        <i class="fas fa-rss"></i>
                    </a>
                </li>
        </ul>
    </div>

<style>
    .button {
        background-color: yellow;
        color: black;
        border: none;
        padding: 10px 20px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        cursor: pointer;
        border-radius: 20px;
    }

    .center {
        text-align: center;
    }

    .container {
        display: grid;
        grid-template-columns: 1fr 1fr;
    }

    .left-col {
    }

    .right-col {
    }

    .image {
        border-radius: 0;
        width: 100%;
    }

    .book-list {
        padding-top:0;
        padding-bottom: 0;
        text-align:left;
        box-sizing: border-box;
        display: block;
        list-style-image: url(/images/shortcode-tick.webp);
        margin-block-start: 1em;
        margin-block-end: 1em;
        margin-inline-start:0;
        margin-inline-end:0;
        padding-inline-start:40px;
    }

    .book-list li {
        font-weight: bold;
    }

    @media (max-width: 600px) {
        .container {
            grid-template-columns: 1fr;
        }
    }

</style>
<div class="container">
    <div class="left-col">
        <a href="https://ksafjanuser.gumroad.com/l/mlops">
            <img src="/images/mlop_interview_book_cover_3D_300px.jpg" class="image" alt="Interview Book Cover">
        </a>

        <div class="center">
            <a href="https://ksafjanuser.gumroad.com/l/mlops">
                <button class="button">Get for $2.99</button>
            </a>
        </div>
    </div>
    <div class="right-col">
        <div>
            <ul class="book-list">
                <li>PDF, ePUB, mobi format ebook, no DRM</li>
                <li>50 questions and answers</li>
                <li>Stories from real projects</li>
                <li>92 multiple choice quiz questions</li>
                <li>80 pages</li>
            </ul>
        </div>
    </div>
</div>
</aside>
<main>

        <nav>
            <a href="https://www.safjan.com/">Home</a>

                <a href="/archives.html">Articles</a>
                <a href="/til.html">Notes</a>
                <a href="/categories.html">Categories</a>
                <a href="/pdfs/Krystian_Safjan_resume_priv.pdf">Resume</a>

                <a href="https://www.safjan.com/feeds/all.atom.xml">Atom</a>

                <a href="https://www.safjan.com/feeds/all.rss.xml">RSS</a>
        </nav>

    <article class="single">
        <header>
                
            <p>
                <!-- Posted on: -->
                2023-09-27 



                    <span id="post-share-links">
    &nbsp;&nbsp;&nbsp;Share on:
    <a href="https://twitter.com/intent/tweet?text=LangChain%20RecursiveCharacterTextSplitter%20-%20Split%20by%20Tokens%20instead%20of%20characters&url=https%3A//www.safjan.com/langchain-recursivecharactertextsplitter-split-by-tokens-instead-of-characters/&hashtags=text-splitting,text-chunking,langchain,recursivecharactertextsplitter,tokens,characters,natural-language-processing,language-modeling,chunk-size" target="_blank" title="Share on Twitter">Twitter</a>
    |
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A//www.safjan.com/langchain-recursivecharactertextsplitter-split-by-tokens-instead-of-characters/" target="_blank" title="Share on Facebook">Facebook</a>
    |
    <a href="https://news.ycombinator.com/submitlink?t=LangChain%20RecursiveCharacterTextSplitter%20-%20Split%20by%20Tokens%20instead%20of%20characters&u=https%3A//www.safjan.com/langchain-recursivecharactertextsplitter-split-by-tokens-instead-of-characters/" target="_blank" title="Share on HackerNews">HackerNews</a>
    |
    <a href="https://www.reddit.com/submit?url=https%3A//www.safjan.com/langchain-recursivecharactertextsplitter-split-by-tokens-instead-of-characters/&title=LangChain%20RecursiveCharacterTextSplitter%20-%20Split%20by%20Tokens%20instead%20of%20characters" target="_blank" title="Share via Reddit">Reddit</a>
  </span>
                <br/>
            </p>
            <h1 id="langchain-recursivecharactertextsplitter-split-by-tokens-instead-of-characters">LangChain RecursiveCharacterTextSplitter - Split by Tokens instead of characters</h1>
            <div class="header-underline"></div>



        </header>


        <div>
            <h1>LangChain RecursiveCharacterTextSplitter - Split by Tokens instead of Characters</h1>
<p>The LangChain <a href="https://python.langchain.com/docs/modules/data_connection/document_transformers/text_splitters/recursive_text_splitter">RecursiveCharacterTextSplitter</a> is a tool that allows you to split text on predefined characters that are considered as a potential division points. By default, the size of the chunk is in characters but by using <code>from_tiktoken_encoder()</code> method you can easily split to achieve given size of the chunk in tokens instead of characters. This is especially useful since LLMs have context limits expressed in tokens not in characters. This split can be useful in various natural language processing tasks, such as language modeling or text classification.</p>
<p>To use the RecursiveCharacterTextSplitter, follow these steps:</p>
<ol>
<li>
<p>Import the required module: <code>from langchain.text_splitter import RecursiveCharacterTextSplitter</code></p>
</li>
<li>
<p>Set the desired chunk size (in tokens): <code>CHUNK_SIZE_TOKENS = 1_500</code></p>
</li>
<li>
<p>Instantiate the RecursiveCharacterTextSplitter using the <code>from_tiktoken_encoder</code> method and provide the chunk size and overlap values:</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="n">text_splitter</span> <span class="o">=</span> <span class="n">RecursiveCharacterTextSplitter</span><span class="o">.</span><span class="n">from_tiktoken_encoder</span><span class="p">(</span>
    <span class="n">chunk_size</span><span class="o">=</span><span class="n">CHUNK_SIZE_TOKENS</span><span class="p">,</span>
    <span class="n">chunk_overlap</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

<ol>
<li>Once the text_splitter object is created, you can use the <code>create_documents</code> method to split your text into documents. Make sure to pass the text to be split as a parameter in a list format:</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="n">docs</span> <span class="o">=</span> <span class="n">text_splitter</span><span class="o">.</span><span class="n">create_documents</span><span class="p">([</span><span class="n">text</span><span class="p">])</span>
</code></pre></div>

<p>For alternative solutions and further discussion, you can refer to the following GitHub issue: <a href="https://github.com/langchain-ai/langchain/issues/4678#issuecomment-1704305645">LangChain Issue #4678</a>.</p>
        </div>


        <div class="tag-cloud">
            <p>
                    <br/><br/>Tags:&nbsp;
                        <a href="https://www.safjan.com/tag/text-splitting/">text-splitting</a>
                        <a href="https://www.safjan.com/tag/text-chunking/">text-chunking</a>
                        <a href="https://www.safjan.com/tag/langchain/">langchain</a>
                        <a href="https://www.safjan.com/tag/recursivecharactertextsplitter/">RecursiveCharacterTextSplitter</a>
                        <a href="https://www.safjan.com/tag/tokens/">Tokens</a>
                        <a href="https://www.safjan.com/tag/characters/">Characters</a>
                        <a href="https://www.safjan.com/tag/natural-language-processing/">natural-language-processing</a>
                        <a href="https://www.safjan.com/tag/language-modeling/">language-modeling</a>
                        <a href="https://www.safjan.com/tag/chunk-size/">chunk-size</a>
            </p>
        </div>








            <div class="related-posts">
                <h4>You might enjoy</h4>
                <ul class="related-posts">
                        <li><a href="https://www.safjan.com/problems-with-Langchain-and-how-to-minimize-their-impact/">Problems with Langchain and how to minimize their impact</a></li>
                        <li><a href="https://www.safjan.com/azure-openai-langchain-configuration/">Azure OpenAI Langchain configuration</a></li>
                        <li><a href="https://www.safjan.com/the-best-vector-databases-for-storing-embeddings/">The Best Vector Databases for Storing Embeddings</a></li>
                        <li><a href="https://www.safjan.com/understanding-differences-gpt-transformers-markov-models/">Understanding the Differences in Language Models - Transformers vs. Markov Models</a></li>
                        <li><a href="https://www.safjan.com/creating-a-powerpoint-presentation-with-a-language-model/">Creating a PowerPoint Presentation with a Language Model</a></li>
                </ul>
            </div>

  <div class="neighbors">
    <a class="btn float-left" href="https://www.safjan.com/from-fixed-size-to-nlp-chunking-a-deep-dive-into-text-chunking-techniques/" title="From Fixed-Size to NLP Chunking - A Deep Dive into Text Chunking Techniques">
      <i class="fa fa-angle-left"></i> Previous Post
    </a>
    <a class="btn float-right" href="https://www.safjan.com/the-right-way-to-job-hop/" title="The Right Way to Job-Hop">
      Next Post <i class="fa fa-angle-right"></i>
    </a>
  </div>


    </article>

    <footer>
<p>
  &copy; 2024 Krystian Safjan - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/deed.en_US" target="_blank">Creative Commons Attribution-ShareAlike</a>
</p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p><p>
  <a rel="license"
     href="http://creativecommons.org/licenses/by-sa/4.0/"
     target="_blank">
    <img alt="Creative Commons License"
         title="Creative Commons License"
         style="border-width:0"
           src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"
         width="80"
         height="15"/>
  </a>
</p>    </footer>
</main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Krystian Safjan's Blog ",
  "url" : "https://www.safjan.com",
  "image": "/images/profile_new.jpg",
  "description": ""
}
</script>

</body>
</html>