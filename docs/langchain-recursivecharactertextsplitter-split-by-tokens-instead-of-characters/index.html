
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="color-scheme" content="light dark"/>
    <script>
      (function() {
        var theme = localStorage.getItem('theme-preference');
        if (theme === 'dark' || theme === 'light') {
          document.documentElement.setAttribute('data-theme', theme);
        }
      })();
    </script>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="HandheldFriendly" content="True"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"/>
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap"
              rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/stylesheet/style.css">


    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/pygments/github.min.css">


    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/font-awesome/css/fontawesome.css">
    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/font-awesome/css/brands.css">
    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/font-awesome/css/solid.css">

    <link rel="stylesheet" href="https://www.safjan.com/pagefind/pagefind-ui.css">

        <link rel="stylesheet" type="text/css"
              href="https://www.safjan.com/styles/custom.css">

        <link href="https://www.safjan.com/feeds/all.atom.xml?utm_source=rss&utm_medium=feed&utm_campaign=rss-feed" type="application/atom+xml" rel="alternate"
              title="Krystian Safjan's Blog Atom">

        <link href="https://www.safjan.com/feeds/all.rss.xml?utm_source=rss&utm_medium=feed&utm_campaign=rss-feed" type="application/rss+xml" rel="alternate"
              title="Krystian Safjan's Blog RSS">


    <link rel="apple-touch-icon" sizes="180x180" href="https://www.safjan.com/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://www.safjan.com/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://www.safjan.com/favicon-16x16.png">
    <link rel="shortcut icon" href="https://www.safjan.com/favicon.ico">
    <link rel="manifest" href="https://www.safjan.com/site.webmanifest">
    <meta name="theme-color" content="#333333">
    <meta name="apple-mobile-web-app-title" content="Krystian Safjan's Blog">

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RM2PKDCCYM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RM2PKDCCYM');
</script>
<!-- End of Google tag (gtag.js) -->



    <meta name="author" content="Krystian Safjan"/>
    <meta name="description" content="Learn how to use LangChain&#39;s RecursiveCharacterTextSplitter to split text into chunks based on tokens, suitable for LLM context limits, and discover the steps to implement this in your natural language processing tasks."/>
    <meta name="keywords" content="text-splitting, text-chunking, langchain, RecursiveCharacterTextSplitter, Tokens, Characters, natural-language-processing, language-modeling, chunk-size">


  <meta property="og:site_name" content="Krystian Safjan's Blog"/>
  <meta property="og:title" content="LangChain RecursiveCharacterTextSplitter - Split by Tokens instead of characters"/>
  <meta property="og:description" content="Learn how to use LangChain&#39;s RecursiveCharacterTextSplitter to split text into chunks based on tokens, suitable for LLM context limits, and discover the steps to implement this in your natural language processing tasks."/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="https://www.safjan.com/langchain-recursivecharactertextsplitter-split-by-tokens-instead-of-characters/"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2023-09-27 00:00:00+02:00"/>
  <meta property="article:modified_time" content="2023-09-27 00:00:00+02:00"/>
  <meta property="article:author" content="https://www.safjan.com/author/krystian-safjan/"/>
  <meta property="article:section" content="note"/>
  <meta property="article:tag" content="text-splitting"/>
  <meta property="article:tag" content="text-chunking"/>
  <meta property="article:tag" content="langchain"/>
  <meta property="article:tag" content="RecursiveCharacterTextSplitter"/>
  <meta property="article:tag" content="Tokens"/>
  <meta property="article:tag" content="Characters"/>
  <meta property="article:tag" content="natural-language-processing"/>
  <meta property="article:tag" content="language-modeling"/>
  <meta property="article:tag" content="chunk-size"/>
  <meta property="og:image" content="/images/profile_new.jpg"/>
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:image" content="/images/profile_new.jpg"/>
    <meta name="twitter:image:alt" content="Krystian Safjan's Blog"/>


    <meta name="twitter:site" content="@izikeros"/>
    <meta name="twitter:creator" content="@izikeros"/>
    <meta name="twitter:title" content="LangChain RecursiveCharacterTextSplitter - Split by Tokens instead of characters"/>
    <meta name="twitter:description" content="Learn how to use LangChain&#39;s RecursiveCharacterTextSplitter to split text into chunks based on tokens, suitable for LLM context limits, and discover the steps to implement this in your..."/>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.safjan.com/langchain-recursivecharactertextsplitter-split-by-tokens-instead-of-characters/"
  },
  "headline": "LangChain RecursiveCharacterTextSplitter - Split by Tokens instead of characters",
  "datePublished": "2023-09-27T00:00:00+02:00",
  "dateModified": "2023-09-27T00:00:00+02:00",
  "author": {
    "@type": "Person",
    "name": "Krystian Safjan",
    "url": "https://www.safjan.com/author/krystian-safjan/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Krystian Safjan's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "/images/profile_new.jpg"
    }  },
"image": "/images/profile_new.jpg",  "url": "https://www.safjan.com/langchain-recursivecharactertextsplitter-split-by-tokens-instead-of-characters/",
  "description": "Learn how to use LangChain's RecursiveCharacterTextSplitter to split text into chunks based on tokens, suitable for LLM context limits, and discover the...",
  "articleSection": "note",
  "inLanguage": "en",
  "keywords": "text-splitting, text-chunking, langchain, RecursiveCharacterTextSplitter, Tokens, Characters, natural-language-processing, language-modeling, chunk-size",
  "wordCount": 196,
  "speakable": {
    "@type": "SpeakableSpecification",
    "cssSelector": ["article h1", ".summary", ".tldr", "article \u003e p:first-of-type"]
  }}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://www.safjan.com/"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "note",
      "item": "https://www.safjan.com/category/note.html"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "LangChain RecursiveCharacterTextSplitter -..."
    }
  ]
}
</script>



<meta name="ai:summary" content="Learn how to use LangChain&#39;s RecursiveCharacterTextSplitter to split text into chunks based on tokens, suitable for LLM context limits, and discover the steps to implement this in your natural language processing tasks.">

<meta name="ai:topics" content="text-splitting, text-chunking, langchain, RecursiveCharacterTextSplitter, Tokens, Characters, natural-language-processing, language-modeling, chunk-size">



<meta name="ai:word-count" content="196">
<meta name="ai:reading-time" content="1 min">

<meta name="ai:section" content="note">



<meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">

    <title>    LangChain RecursiveCharacterTextSplitter - Split by Tokens instead of characters
</title>



<!-- Google Automatic Ads -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9767732578835199"
     crossorigin="anonymous"></script>
<!-- End of Google Automatic Ads -->


</head>
<body>
<div id="reading-progress" class="reading-progress"></div>
<aside>
    <div>
        <a href="https://www.safjan.com/">
                <img src="/images/profile_new.jpg" alt="Krystian Safjan's Blog" title="Krystian Safjan's Blog" width="140" height="140">
        </a>

        <h1>
            <a href="https://www.safjan.com/">Krystian Safjan's Blog</a>
        </h1>

<p>Data Scientist and Team Leader writing about Machine Learning, MLOps, and Python</p>


        <ul class="social">
                <li>
                    <a  class="sc-linkedin" href="https://pl.linkedin.com/in/krystiansafjan"
                       target="_blank">
                        <i class="fab fa-linkedin"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-github" href="https://github.com/izikeros"
                       target="_blank">
                        <i class="fab fa-github"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-envelope" href="mailto:ksafjan@gmail.com"
                       target="_blank">
                        <i class="fas fa-envelope"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-graduation-cap" href="https://scholar.google.pl/citations?user=UlNJgMoAAAAJ"
                       target="_blank">
                        <i class="fas fa-graduation-cap"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-rss" href="/feeds/all.rss.xml"
                       target="_blank">
                        <i class="fas fa-rss"></i>
                    </a>
                </li>
        </ul>
    </div>

<div class="promo-box">
    <a href="https://ksafjanuser.gumroad.com/l/mlops" class="promo-box-image">
        <img src="/images/mlop_interview_book_cover_3D_300px.jpg" alt="MLOps Interview Book Cover">
    </a>
    
    <p class="promo-box-headline">Ace Your MLOps Interview</p>
    
    <a href="https://ksafjanuser.gumroad.com/l/mlops" class="promo-box-cta">
        Get for $2.99
    </a>
    
    <p class="promo-box-features">50 Q&A â€¢ PDF/ePUB/mobi</p>
</div>
</aside>
<main>

        <nav aria-label="Main navigation">
            <a href="https://www.safjan.com/">Home</a>

                <a href="/archives.html">Articles</a>
                <a href="/til.html">Notes</a>
                <a href="/categories.html">Categories</a>
                <a href="/pdfs/Krystian_Safjan_resume_priv.pdf">Resume</a>

                <a href="https://www.safjan.com/feeds/all.atom.xml">Atom</a>

                <a href="https://www.safjan.com/feeds/all.rss.xml">RSS</a>

            <div id="search" class="nav-search"></div>
            <button type="button" id="theme-toggle" class="theme-toggle" aria-label="Toggle theme">
                <i class="fas fa-sun"></i>
                <i class="fas fa-moon"></i>
            </button>
        </nav>

    <article class="single">
        <header>
                
            <p>
                <!-- Posted on: -->
                2023-09-27 


                <br/>
            </p>
            <h1>LangChain RecursiveCharacterTextSplitter - Split by Tokens instead of characters</h1>
            <div class="header-underline"></div>



        </header>




        <div class="article-content">
            <h1 id="langchain-recursivecharactertextsplitter-split-by-tokens-instead-of-characters">LangChain RecursiveCharacterTextSplitter - Split by Tokens instead of Characters</h1>
<p>The LangChain <a href="https://python.langchain.com/docs/modules/data_connection/document_transformers/text_splitters/recursive_text_splitter">RecursiveCharacterTextSplitter</a> is a tool that allows you to split text on predefined characters that are considered as a potential division points. By default, the size of the chunk is in characters but by using <code>from_tiktoken_encoder()</code> method you can easily split to achieve given size of the chunk in tokens instead of characters. This is especially useful since LLMs have context limits expressed in tokens not in characters. This split can be useful in various natural language processing tasks, such as language modeling or text classification.</p>
<p>To use the RecursiveCharacterTextSplitter, follow these steps:</p>
<ol>
<li>
<p>Import the required module: <code>from langchain.text_splitter import RecursiveCharacterTextSplitter</code></p>
</li>
<li>
<p>Set the desired chunk size (in tokens): <code>CHUNK_SIZE_TOKENS = 1_500</code></p>
</li>
<li>
<p>Instantiate the RecursiveCharacterTextSplitter using the <code>from_tiktoken_encoder</code> method and provide the chunk size and overlap values:</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="n">text_splitter</span> <span class="o">=</span> <span class="n">RecursiveCharacterTextSplitter</span><span class="o">.</span><span class="n">from_tiktoken_encoder</span><span class="p">(</span>
    <span class="n">chunk_size</span><span class="o">=</span><span class="n">CHUNK_SIZE_TOKENS</span><span class="p">,</span>
    <span class="n">chunk_overlap</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

<ol>
<li>Once the text_splitter object is created, you can use the <code>create_documents</code> method to split your text into documents. Make sure to pass the text to be split as a parameter in a list format:</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="n">docs</span> <span class="o">=</span> <span class="n">text_splitter</span><span class="o">.</span><span class="n">create_documents</span><span class="p">([</span><span class="n">text</span><span class="p">])</span>
</code></pre></div>

<p>For alternative solutions and further discussion, you can refer to the following GitHub issue: <a href="https://github.com/langchain-ai/langchain/issues/4678#issuecomment-1704305645">LangChain Issue #4678</a>.</p>
        </div>


        <div class="article-tags">
            <span class="tags-label">Tags:</span>
                <a href="https://www.safjan.com/tag/text-splitting/" class="article-tag">text-splitting</a>
                <a href="https://www.safjan.com/tag/text-chunking/" class="article-tag">text-chunking</a>
                <a href="https://www.safjan.com/tag/langchain/" class="article-tag">langchain</a>
                <a href="https://www.safjan.com/tag/recursivecharactertextsplitter/" class="article-tag">RecursiveCharacterTextSplitter</a>
                <a href="https://www.safjan.com/tag/tokens/" class="article-tag">Tokens</a>
                <a href="https://www.safjan.com/tag/characters/" class="article-tag">Characters</a>
                <a href="https://www.safjan.com/tag/natural-language-processing/" class="article-tag">natural-language-processing</a>
                <a href="https://www.safjan.com/tag/language-modeling/" class="article-tag">language-modeling</a>
                <a href="https://www.safjan.com/tag/chunk-size/" class="article-tag">chunk-size</a>
        </div>







            <div class="related-posts">
                <h4 class="related-posts-title">You might also like</h4>
                <div class="related-posts-grid">
                        <a href="https://www.safjan.com/problems-with-Langchain-and-how-to-minimize-their-impact/" class="related-post-card">
                            <span class="related-post-title">Problems with Langchain and how to minimize their impact</span>
                            <span class="related-post-date">Sep 01, 2023</span>
                        </a>
                        <a href="https://www.safjan.com/implementing-sentence-boundary-detection-in-python-for-improved-text-chunkin/" class="related-post-card">
                            <span class="related-post-title">Implementing Sentence Boundary Detection in Python for Improved Text Chunking</span>
                            <span class="related-post-date">Aug 30, 2024</span>
                        </a>
                        <a href="https://www.safjan.com/openai-python-sdk-with-local-ollama-models-and-alternatives/" class="related-post-card">
                            <span class="related-post-title">Using OpenAI Python SDK with Local Ollama Models (and When to Opt for Alternatives)</span>
                            <span class="related-post-date">Jul 29, 2025</span>
                        </a>
                        <a href="https://www.safjan.com/azure-openai-langchain-configuration/" class="related-post-card">
                            <span class="related-post-title">Azure OpenAI Langchain configuration</span>
                            <span class="related-post-date">Aug 02, 2023</span>
                        </a>
                </div>
            </div>




    </article>

    <footer>
<p>
  &copy; 2026 Krystian Safjan - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/deed.en_US" target="_blank">Creative Commons Attribution-ShareAlike</a>
</p>    </footer>
</main>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Blog",
  "name": "Krystian Safjan's Blog",
  "url": "https://www.safjan.com",
"image": "/images/profile_new.jpg",  "description": ""
}
</script>


<script src="https://www.safjan.com/pagefind/pagefind-ui.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', function() {
        new PagefindUI({
            element: "#search",
            showSubResults: false,
            showImages: false,
            basePath: "https://www.safjan.com/pagefind/"
        });
    });
</script>

<script src="https://www.safjan.com/theme/js/theme-switcher.js"></script>

<style>
.youtube-embed {
    position: relative;
    width: 100%;
    padding-bottom: 56.25%;
    background: #000;
    border-radius: 0.375rem;
    overflow: hidden;
}
.youtube-embed iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 0;
}
.youtube-embed-wrapper {
    margin-bottom: 1rem;
}
.youtube-embed-info {
    padding: 0.5rem 0.75rem;
    background: var(--color-bg-secondary, #f6f8fa);
    border-radius: 0 0 0.375rem 0.375rem;
    font-size: 0.875rem;
    margin-top: -0.375rem;
}
.youtube-embed-info a {
    text-decoration: none;
    color: inherit;
}
.youtube-embed-info a:hover {
    text-decoration: underline;
}
</style>
<script>
document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('pre > code').forEach(function(code) {
        var text = code.textContent.trim();
        if (!text.match(/^https?:\/\/(www\.)?(youtube\.com|youtu\.be)/)) return;

        var lines = text.split('\n');
        var url = lines[0].trim();
        var match = url.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/);
        if (!match) return;
        var videoId = match[1];

        var meta = {};
        lines.slice(1).forEach(function(line) {
            var m = line.match(/^(\w+):\s*(.+)$/);
            if (m) meta[m[1].toLowerCase()] = m[2].trim();
        });

        var wrapper = document.createElement('div');
        wrapper.className = 'youtube-embed-wrapper';

        var embed = document.createElement('div');
        embed.className = 'youtube-embed';
        embed.innerHTML = '<iframe src="https://www.youtube-nocookie.com/embed/' + videoId +
            '" allowfullscreen loading="lazy" title="' + (meta.title || 'YouTube video').replace(/"/g, '&quot;') + '"></iframe>';
        wrapper.appendChild(embed);

        if (meta.title || meta.author) {
            var info = document.createElement('div');
            info.className = 'youtube-embed-info';
            var html = meta.title ? '<strong>' + meta.title + '</strong>' : '';
            if (meta.author) {
                html += (meta.title ? ' &bull; ' : '');
                html += meta.authorurl ? '<a href="' + meta.authorurl + '" target="_blank" rel="noopener">' + meta.author + '</a>' : meta.author;
            }
            info.innerHTML = html;
            wrapper.appendChild(info);
        }
        code.closest('pre').replaceWith(wrapper);
    });
});
</script>
</body>
</html>