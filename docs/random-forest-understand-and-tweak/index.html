
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="HandheldFriendly" content="True"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"/>
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap"
              rel="stylesheet">

        <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/stylesheet/style.min.css">



        <link id="pygments-light-theme" rel="stylesheet" type="text/css"
              href="https://www.safjan.com/theme/pygments/github.min.css">



    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/font-awesome/css/fontawesome.css">
    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/font-awesome/css/brands.css">
    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/font-awesome/css/solid.css">

        <link rel="stylesheet" type="text/css"
              href="https://www.safjan.com/styles/custom.css">

        <link href="https://www.safjan.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Krystian Safjan's Blog Atom">

        <link href="https://www.safjan.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate"
              title="Krystian Safjan's Blog RSS">


<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RM2PKDCCYM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RM2PKDCCYM');
</script>
<!-- End of Google tag (gtag.js) -->



    <meta name="author" content="Krystian Safjan"/>
    <meta name="description" content="Random Forest is a popular machine learning algorithm, known for its high accuracy and versatility. However, it can be challenging to understand the inner workings of the algorithm and tweak its parameters for optimal performance. In this article, we will explore some …"/>
    <meta name="keywords" content="machine-learning, random-forest, xai">
    <meta expr:content="2023-01-18 00:00:00+01:00" itemprop='datePublished'/>
    <meta expr:content="2023-07-12 00:00:00+02:00" itemprop='dateModified'/>
    <meta property="article:modified_time" content="2023-07-12 00:00:00+02:00"/>
    <meta property="article:published_time" content="2023-01-18 00:00:00+01:00"/>
    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Tools That Helps to Understand and Tweak Random Forest Classifier",
  "datePublished": "2023-01-18 00:00:00+01:00",
  "dateModified": "2023-07-12 00:00:00+02:00"
}

    </script>



  <meta property="og:site_name" content="Krystian Safjan's Blog"/>
  <meta property="og:title" content="Tools That Helps to Understand and Tweak Random Forest Classifier"/>
  <meta property="og:description" content="Random Forest is a popular machine learning algorithm, known for its high accuracy and versatility. However, it can be challenging to understand the inner workings of the algorithm and tweak its parameters for optimal performance. In this article, we will explore some …"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="https://www.safjan.com/random-forest-understand-and-tweak/"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2023-01-18 00:00:00+01:00"/>
  <meta property="article:modified_time" content="2023-07-12 00:00:00+02:00"/>
  <meta property="article:author" content="https://www.safjan.com/author/krystian-safjan/">
  <meta property="article:section" content="note"/>
  <meta property="article:tag" content="machine-learning"/>
  <meta property="article:tag" content="random-forest"/>
  <meta property="article:tag" content="xai"/>
  <meta property="og:image" content="/images/profile_new.jpg">

    <meta name="twitter:card" content="summary"/>
    <meta property="twitter:image" content="/images/profile_new.jpg">

    <meta name="twitter:label1" content="Est. reading time"/>
    <meta name="twitter:data1" content="4 min."/>
    <meta name="twitter:site" content="@izikeros"/>
    <meta name="twitter:description" content=""/>
    <meta name="twitter:title" content="Tools That Helps to Understand and Tweak Random Forest Classifier"/>


    <title>    Tools That Helps to Understand and Tweak Random Forest Classifier
</title>


<!-- Google Automatic Ads -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9767732578835199"
     crossorigin="anonymous"></script>
<!-- End of Google Automatic Ads -->


</head>
<body class="light-theme">
<aside>
    <div>
        <a href="https://www.safjan.com/">
                <img src="/images/profile_new.jpg" alt="Krystian Safjan's Blog" title="Krystian Safjan's Blog" width="140" height="140">
        </a>

        <h1>
            <a href="https://www.safjan.com/">Krystian Safjan's Blog</a>
        </h1>

<p>Data Scientist | Researcher | Team Leader<br><br> working at Ernst &amp; Young and writing about <a href="/category/machine-learning.html">Data Science and Visualization</a>, on <a href="/category/machine-learning.html">Machine Learning, Deep Learning</a> and <a href="/tag/nlp/">NLP</a>. There are also some  <a href="/category/howto.html">howto</a> posts on tools and workflows.</p>




        <ul class="social">
                <li>
                    <a  class="sc-linkedin" href="https://pl.linkedin.com/in/krystiansafjan"
                       target="_blank">
                        <i class="fab fa-linkedin"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-github" href="https://github.com/izikeros"
                       target="_blank">
                        <i class="fab fa-github"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-envelope" href="mailto:ksafjan@gmail.com"
                       target="_blank">
                        <i class="fas fa-envelope"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-graduation-cap" href="https://scholar.google.pl/citations?user=UlNJgMoAAAAJ"
                       target="_blank">
                        <i class="fas fa-graduation-cap"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-rss" href="/feeds/all.rss.xml"
                       target="_blank">
                        <i class="fas fa-rss"></i>
                    </a>
                </li>
        </ul>
    </div>

<style>
    .button {
        background-color: yellow;
        color: black;
        border: none;
        padding: 10px 20px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        cursor: pointer;
        border-radius: 20px;
    }

    .center {
        text-align: center;
    }

    .container {
        display: grid;
        grid-template-columns: 1fr 1fr;
    }

    .left-col {
    }

    .right-col {
    }

    .image {
        border-radius: 0;
        width: 100%;
    }

    .book-list {
        padding-top:0;
        padding-bottom: 0;
        text-align:left;
        box-sizing: border-box;
        display: block;
        list-style-image: url(/images/shortcode-tick.webp);
        margin-block-start: 1em;
        margin-block-end: 1em;
        margin-inline-start:0;
        margin-inline-end:0;
        padding-inline-start:40px;
    }

    .book-list li {
        font-weight: bold;
    }

    @media (max-width: 600px) {
        .container {
            grid-template-columns: 1fr;
        }
    }

</style>
<div class="container">
    <div class="left-col">
        <a href="https://ksafjanuser.gumroad.com/l/mlops">
            <img src="/images/mlop_interview_book_cover_3D_300px.jpg" class="image" alt="Interview Book Cover">
        </a>

        <div class="center">
            <a href="https://ksafjanuser.gumroad.com/l/mlops">
                <button class="button">Get for $0.99</button>
            </a>
        </div>
    </div>
    <div class="right-col">
        <div>
            <ul class="book-list">
                <li>PDF, ePUB, mobi format ebook, no DRM</li>
                <li>50 questions and answers</li>
                <li>Stories from real projects</li>
                <li>92 multiple choice quiz questions</li>
                <li>80 pages</li>
            </ul>
        </div>
    </div>
</div>
</aside>
<main>

        <nav>
            <a href="https://www.safjan.com/">Home</a>

                <a href="/archives.html">Articles</a>
                <a href="/til.html">Notes</a>
                <a href="/categories.html">Categories</a>
                <a href="/pdfs/Krystian_Safjan_resume_priv.pdf">Resume</a>

                <a href="https://www.safjan.com/feeds/all.atom.xml">Atom</a>

                <a href="https://www.safjan.com/feeds/all.rss.xml">RSS</a>
        </nav>

    <article class="single">
        <header>
                
            <p>
                <!-- Posted on: -->
                2023-01-18 



                    <span id="post-share-links">
    &nbsp;&nbsp;&nbsp;Share on:
    <a href="https://twitter.com/intent/tweet?text=Tools%20That%20Helps%20to%20Understand%20and%20Tweak%20Random%20Forest%20Classifier&url=https%3A//www.safjan.com/random-forest-understand-and-tweak/&hashtags=machine-learning,random-forest,xai" target="_blank" title="Share on Twitter">Twitter</a>
    |
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A//www.safjan.com/random-forest-understand-and-tweak/" target="_blank" title="Share on Facebook">Facebook</a>
    |
    <a href="https://news.ycombinator.com/submitlink?t=Tools%20That%20Helps%20to%20Understand%20and%20Tweak%20Random%20Forest%20Classifier&u=https%3A//www.safjan.com/random-forest-understand-and-tweak/" target="_blank" title="Share on HackerNews">HackerNews</a>
    |
    <a href="https://www.reddit.com/submit?url=https%3A//www.safjan.com/random-forest-understand-and-tweak/&title=Tools%20That%20Helps%20to%20Understand%20and%20Tweak%20Random%20Forest%20Classifier" target="_blank" title="Share via Reddit">Reddit</a>
  </span>
                <br/>
            </p>
            <h1 id="random-forest-understand-and-tweak">Tools That Helps to Understand and Tweak Random Forest Classifier</h1>
            <div class="header-underline"></div>



        </header>


        <div>
            <p>Random Forest is a popular machine learning algorithm, known for its high accuracy and versatility. However, it can be challenging to understand the inner workings of the algorithm and tweak its parameters for optimal performance. In this article, we will explore some lesser-known but useful tools that can help you better understand and tweak your Random Forest classifier.</p>
<h2>1. Feature Importance</h2>
<p>One of the most important aspects of a Random Forest classifier is understanding the relative importance of the features used to make predictions. <code>scikit-learn</code> provides a built-in function to compute feature importance, <code>feature_importances_</code>. However, this method can be misleading for high-dimensional datasets or datasets with correlated features. A better alternative is <code>permutation importance</code> which can be calculated using the <code>permutation_importance</code> function in the <code>sklearn.inspection</code> module. This method randomly shuffles the values of a single feature and calculates the decrease in the model's performance, providing a more accurate measure of feature importance.</p>
<p>Another alternative is the SHAP (SHapley Additive exPlanations) library, which allows for the calculation of feature importance in a more explainable way. It considers all possible coalitions of features and assigns a value to each feature based on its contribution to the prediction. For the tree methods there is a speed-optimized <a href="https://www.safjan.com/kernelshap-treeshap-two-most-popular-variations-of-the-shap-method/">KernelShap and TreeShap - Two Most Popular Variations of the SHAP Method</a> method to explain the tree-based models.</p>
<p>See: <a href="https://stackoverflow.com/questions/44101458/random-forest-feature-importance-chart-using-python">plot - Random Forest Feature Importance Chart using Python - Stack Overflow</a></p>
<h2>2. Partial Dependence Plots</h2>
<p>Partial dependence plots are a useful tool for visualizing the relationship between a feature and the model's prediction. They plot the average prediction of the model as a function of one feature, while holding the other features constant. <code>scikit-learn</code> provides a built-in function to generate partial dependence plots, <code>plot_partial_dependence</code>. However, this function only allows for the visualization of one or two features at a time. An alternative is the <code>PDPbox</code> library, which allows for the visualization of multiple features at once.</p>
<p><img alt="Example of Partial Dependence Plots with categorical values" src="https://scikit-optimize.github.io/dev/_images/sphx_glr_partial-dependence-plot-with-categorical_001.png"></p>
<p><strong>Figure 1.</strong> Example of Partial Dependence Plots with categorical values - plotted with scikit-optimize. (image source: <a href="https://scikit-optimize.github.io/dev/auto_examples/plots/partial-dependence-plot-with-categorical.html">scikit-optimize documentation</a>)</p>
<h2>3. Tree Interpreter</h2>
<p>The <a href="https://github.com/andosa/treeinterpreter">treeinterpreter</a> library provides an easy way to understand the predictions made by a Random Forest classifier. It decomposes the predictions of the ensemble into contributions from each individual tree, allowing you to understand the decision-making process of the model. This library can be used in combination with <code>SHAP</code> to understand how each feature contributes to the model's prediction.</p>
<p>See: <a href="https://coderzcolumn.com/tutorials/machine-learning/treeinterpreter-interpreting-tree-based-models-prediction-of-individual-sample">Treeinterpreter - Interpreting Tree-Based Model's Prediction of Individual Sample [Python]</a></p>
<h2>4. Random Forest Explorer</h2>
<p>The <code>Random Forest Explorer</code> is an interactive tool that allows you to explore the decision boundaries of a Random Forest classifier. It is built on top of the <code>bokeh</code> library and provides a user-friendly interface for visualizing the predictions of the model.</p>
<h2>Conclusion</h2>
<p>Random Forest is a powerful machine learning algorithm, but it can be challenging to understand and tweak its behavior. The tools discussed in this article, such as feature importance, partial dependence plots, tree interpreter and <code>Random Forest Explorer</code> can help you better understand the inner workings of the model and make more informed decisions when tuning its parameters. These tools are lesser known but can be very useful in understanding and improving the performance of a Random Forest classifier.</p>
<p>Note that the above instructions are a general guide and you should check the specific instructions for your setup and the version of the package you are using.</p>
<p><strong>References:</strong></p>
<ul>
<li><a href="https://scikit-learn.org/stable/modules/permutation_importance.html">4.2. Permutation feature importance — scikit-learn 1.3.2 documentation</a></li>
<li><a href="https://github.com/slundberg/shap">GitHub - shap/shap: A game theoretic approach to explain the output of any machine learning model.</a></li>
<li><a href="https://github.com/SauceCat/PDPbox">GitHub - SauceCat/PDPbox: python partial dependence plot toolbox</a></li>
<li><a href="https://github.com/andosa/treeinterpreter">GitHub - andosa/treeinterpreter</a></li>
<li><a href="https://github.com/parrt/random-forest-explorer">https://github.com/parrt/random-forest-explorer</a></li>
<li>
<h2><a href="https://coderzcolumn.com/tutorials/machine-learning/dice-ml-diverse-counterfactual-explanations-for-ml-models">dice-ml - Diverse Counterfactual Explanations for ML Models [Python]</a></h2>
</li>
</ul>
        </div>


        <div class="tag-cloud">
            <p>
                    <br/><br/>Tags:&nbsp;
                        <a href="https://www.safjan.com/tag/machine-learning/">machine-learning</a>
                        <a href="https://www.safjan.com/tag/random-forest/">random-forest</a>
                        <a href="https://www.safjan.com/tag/xai/">xai</a>
            </p>
        </div>








            <div class="related-posts">
                <h4>You might enjoy</h4>
                <ul class="related-posts">
                        <li><a href="https://www.safjan.com/attacking-differential-privacy-using-the-correlation-between-the-features/">Attacking Differential Privacy Using the Correlation Between the Features</a></li>
                        <li><a href="https://www.safjan.com/are-lime-explanations-any-useful/">Are LIME Explanations Any Useful?</a></li>
                        <li><a href="https://www.safjan.com/how-the-lime-method-for-explainable-ai-works/">LIME - Understanding How This Method for Explainable AI Works</a></li>
                        <li><a href="https://www.safjan.com/how-the-shap-method-for-explainable-ai-works/">SHAP - Understanding How This Method for Explainable AI Works</a></li>
                        <li><a href="https://www.safjan.com/anchor-explanations/">Explainable AI - Anchor Explanations</a></li>
                </ul>
            </div>

  <div class="neighbors">
    <a class="btn float-left" href="https://www.safjan.com/How-to-use-Polish-wordnet-in-python/" title="How to Use the Polish WordNet in Python?">
      <i class="fa fa-angle-left"></i> Previous Post
    </a>
    <a class="btn float-right" href="https://www.safjan.com/histogram-intersection/" title="Histogram Intersection">
      Next Post <i class="fa fa-angle-right"></i>
    </a>
  </div>


    </article>

    <footer>
<p>
  &copy; 2024 Krystian Safjan - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/deed.en_US" target="_blank">Creative Commons Attribution-ShareAlike</a>
</p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p><p>
  <a rel="license"
     href="http://creativecommons.org/licenses/by-sa/4.0/"
     target="_blank">
    <img alt="Creative Commons License"
         title="Creative Commons License"
         style="border-width:0"
           src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"
         width="80"
         height="15"/>
  </a>
</p>    </footer>
</main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Krystian Safjan's Blog ",
  "url" : "https://www.safjan.com",
  "image": "/images/profile_new.jpg",
  "description": ""
}
</script>

</body>
</html>