
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="color-scheme" content="light dark"/>
    <script>
      (function() {
        var theme = localStorage.getItem('theme-preference');
        if (theme === 'dark' || theme === 'light') {
          document.documentElement.setAttribute('data-theme', theme);
        }
      })();
    </script>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="HandheldFriendly" content="True"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"/>
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap"
              rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="http://127.0.0.1:8000/theme/stylesheet/style.css">


    <link rel="stylesheet" type="text/css" href="http://127.0.0.1:8000/theme/pygments/github.min.css">


    <link rel="stylesheet" type="text/css" href="http://127.0.0.1:8000/theme/font-awesome/css/fontawesome.css">
    <link rel="stylesheet" type="text/css" href="http://127.0.0.1:8000/theme/font-awesome/css/brands.css">
    <link rel="stylesheet" type="text/css" href="http://127.0.0.1:8000/theme/font-awesome/css/solid.css">

    <link rel="stylesheet" href="http://127.0.0.1:8000/pagefind/pagefind-ui.css">

        <link rel="stylesheet" type="text/css"
              href="http://127.0.0.1:8000/styles/custom.css">








    <meta name="author" content="Krystian Safjan"/>
    <meta name="description" content="X::[[random_forest_explainer]] Random Forest is a popular machine learning algorithm, known for its high accuracy and versatility. However, it can be challenging to understand the inner workings of the algorithm and tweak its parameters for optimal performance. In this article, we will …"/>
    <meta name="keywords" content="machine-learning, random-forest, xai">


  <meta property="og:site_name" content="Krystian Safjan's Blog"/>
  <meta property="og:title" content="Tools That Helps to Understand and Tweak Random Forest Classifier"/>
  <meta property="og:description" content="X::[[random_forest_explainer]] Random Forest is a popular machine learning algorithm, known for its high accuracy and versatility. However, it can be challenging to understand the inner workings of the algorithm and tweak its parameters for optimal performance. In this article, we will …"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="http://127.0.0.1:8000/random-forest-understand-and-tweak/"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2023-01-18 00:00:00+01:00"/>
  <meta property="article:modified_time" content="2023-07-12 00:00:00+02:00"/>
  <meta property="article:author" content="http://127.0.0.1:8000/author/krystian-safjan/"/>
  <meta property="article:section" content="note"/>
  <meta property="article:tag" content="machine-learning"/>
  <meta property="article:tag" content="random-forest"/>
  <meta property="article:tag" content="xai"/>
  <meta property="og:image" content="/images/profile_new.jpg"/>
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:image" content="/images/profile_new.jpg"/>
    <meta name="twitter:image:alt" content="Krystian Safjan's Blog"/>


    <meta name="twitter:site" content="@izikeros"/>
    <meta name="twitter:creator" content="@izikeros"/>
    <meta name="twitter:title" content="Tools That Helps to Understand and Tweak Random Forest Classifier"/>
    <meta name="twitter:description" content="X::[[random_forest_explainer]] Random Forest is a popular machine learning algorithm, known for its high accuracy and versatility. However, it can be challenging to understand the inner..."/>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://127.0.0.1:8000/random-forest-understand-and-tweak/"
  },
  "headline": "Tools That Helps to Understand and Tweak Random Forest Classifier",
  "datePublished": "2023-01-18T00:00:00+01:00",
  "dateModified": "2023-07-12T00:00:00+02:00",
  "author": {
    "@type": "Person",
    "name": "Krystian Safjan",
    "url": "http://127.0.0.1:8000/author/krystian-safjan/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Krystian Safjan's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "/images/profile_new.jpg"
    }  },
"image": "/images/profile_new.jpg",  "url": "http://127.0.0.1:8000/random-forest-understand-and-tweak/",
  "description": "X::[[random_forest_explainer]] Random Forest is a popular machine learning algorithm, known for its high accuracy and versatility. However, it can be..."
}
</script>

    <title>    Tools That Helps to Understand and Tweak Random Forest Classifier
</title>



<!-- Google Automatic Ads -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9767732578835199"
     crossorigin="anonymous"></script>
<!-- End of Google Automatic Ads -->


</head>
<body>
<div id="reading-progress" class="reading-progress"></div>
<aside>
    <div>
        <a href="http://127.0.0.1:8000/">
                <img src="/images/profile_new.jpg" alt="Krystian Safjan's Blog" title="Krystian Safjan's Blog" width="140" height="140">
        </a>

        <h1>
            <a href="http://127.0.0.1:8000/">Krystian Safjan's Blog</a>
        </h1>

<p>Data Scientist | Researcher | Team Leader<br><br> working at Ernst &amp; Young and writing about <a href="/category/machine-learning.html">Data Science and Visualization</a>, on <a href="/category/machine-learning.html">Machine Learning, Deep Learning</a> and <a href="/tag/nlp/">NLP</a>. There are also some <a href="/category/howto.html">howto</a> posts on tools and workflows.</p>


        <ul class="social">
                <li>
                    <a  class="sc-linkedin" href="https://pl.linkedin.com/in/krystiansafjan"
                       target="_blank">
                        <i class="fab fa-linkedin"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-github" href="https://github.com/izikeros"
                       target="_blank">
                        <i class="fab fa-github"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-envelope" href="mailto:ksafjan@gmail.com"
                       target="_blank">
                        <i class="fas fa-envelope"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-graduation-cap" href="https://scholar.google.pl/citations?user=UlNJgMoAAAAJ"
                       target="_blank">
                        <i class="fas fa-graduation-cap"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-rss" href="/feeds/all.rss.xml"
                       target="_blank">
                        <i class="fas fa-rss"></i>
                    </a>
                </li>
        </ul>
    </div>

<div class="promo-box">
    <a href="https://ksafjanuser.gumroad.com/l/mlops" class="promo-box-image">
        <img src="/images/mlop_interview_book_cover_3D_300px.jpg" alt="MLOps Interview Book Cover">
    </a>
    
    <p class="promo-box-headline">Ace Your MLOps Interview</p>
    
    <a href="https://ksafjanuser.gumroad.com/l/mlops" class="promo-box-cta">
        Get for $2.99
    </a>
    
    <p class="promo-box-features">50 Q&A • PDF/ePUB/mobi</p>
</div>
</aside>
<main>

        <nav>
            <a href="http://127.0.0.1:8000/">Home</a>

                <a href="/archives.html">Articles</a>
                <a href="/til.html">Notes</a>
                <a href="/categories.html">Categories</a>
                <a href="/pdfs/Krystian_Safjan_resume_priv.pdf">Resume</a>



            <div id="search" class="nav-search"></div>
            <button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme">
                <i class="fas fa-sun"></i>
                <i class="fas fa-moon"></i>
            </button>
        </nav>

    <article class="single">
        <header>
                
            <p>
                <!-- Posted on: -->
                2023-01-18 


                <br/>
            </p>
            <h1 id="random-forest-understand-and-tweak">Tools That Helps to Understand and Tweak Random Forest Classifier</h1>
            <div class="header-underline"></div>



        </header>



        <details class="toc-details" id="toc-container">
            <summary>Table of Contents</summary>
            <nav class="toc" aria-label="Table of Contents">
                <ul class="toc-list"></ul>
            </nav>
        </details>

        <div class="article-content">
            <p>X::[[random_forest_explainer]]</p>
<p>Random Forest is a popular machine learning algorithm, known for its high accuracy and versatility. However, it can be challenging to understand the inner workings of the algorithm and tweak its parameters for optimal performance. In this article, we will explore some lesser-known but useful tools that can help you better understand and tweak your Random Forest classifier.</p>
<h2 id="1-feature-importance">1. Feature Importance</h2>
<p>One of the most important aspects of a Random Forest classifier is understanding the relative importance of the features used to make predictions. <code>scikit-learn</code> provides a built-in function to compute feature importance, <code>feature_importances_</code>. However, this method can be misleading for high-dimensional datasets or datasets with correlated features. A better alternative is <code>permutation importance</code> which can be calculated using the <code>permutation_importance</code> function in the <code>sklearn.inspection</code> module. This method randomly shuffles the values of a single feature and calculates the decrease in the model's performance, providing a more accurate measure of feature importance.</p>
<p>Another alternative is the SHAP (SHapley Additive exPlanations) library, which allows for the calculation of feature importance in a more explainable way. It considers all possible coalitions of features and assigns a value to each feature based on its contribution to the prediction. For the tree methods there is a speed-optimized [[2023-04-14-kernelshap_and_treeshap|Treeshap]] method to explain the tree-based models.</p>
<p>See: <a href="https://stackoverflow.com/questions/44101458/random-forest-feature-importance-chart-using-python">plot - Random Forest Feature Importance Chart using Python - Stack Overflow</a></p>
<h2 id="2-partial-dependence-plots">2. Partial Dependence Plots</h2>
<p>Partial dependence plots are a useful tool for visualizing the relationship between a feature and the model's prediction. They plot the average prediction of the model as a function of one feature, while holding the other features constant. <code>scikit-learn</code> provides a built-in function to generate partial dependence plots, <code>plot_partial_dependence</code>. However, this function only allows for the visualization of one or two features at a time. An alternative is the <code>PDPbox</code> library, which allows for the visualization of multiple features at once.</p>
<p><img alt="Example of Partial Dependence Plots with categorical values" src="https://scikit-optimize.github.io/dev/_images/sphx_glr_partial-dependence-plot-with-categorical_001.png"></p>
<p><strong>Figure 1.</strong> Example of Partial Dependence Plots with categorical values - plotted with scikit-optimize. (image source: <a href="https://scikit-optimize.github.io/dev/auto_examples/plots/partial-dependence-plot-with-categorical.html">scikit-optimize documentation</a>)</p>
<h2 id="3-tree-interpreter">3. Tree Interpreter</h2>
<p>The <a href="https://github.com/andosa/treeinterpreter">treeinterpreter</a> library provides an easy way to understand the predictions made by a Random Forest classifier. It decomposes the predictions of the ensemble into contributions from each individual tree, allowing you to understand the decision-making process of the model. This library can be used in combination with <code>SHAP</code> to understand how each feature contributes to the model's prediction.</p>
<p>See: <a href="https://coderzcolumn.com/tutorials/machine-learning/treeinterpreter-interpreting-tree-based-models-prediction-of-individual-sample">Treeinterpreter - Interpreting Tree-Based Model's Prediction of Individual Sample [Python]</a></p>
<h2 id="4-random-forest-explorer">4. Random Forest Explorer</h2>
<p>The <code>Random Forest Explorer</code> is an interactive tool that allows you to explore the decision boundaries of a Random Forest classifier. It is built on top of the <code>bokeh</code> library and provides a user-friendly interface for visualizing the predictions of the model.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Random Forest is a powerful machine learning algorithm, but it can be challenging to understand and tweak its behavior. The tools discussed in this article, such as feature importance, partial dependence plots, tree interpreter and <code>Random Forest Explorer</code> can help you better understand the inner workings of the model and make more informed decisions when tuning its parameters. These tools are lesser known but can be very useful in understanding and improving the performance of a Random Forest classifier.</p>
<p>Note that the above instructions are a general guide and you should check the specific instructions for your setup and the version of the package you are using.</p>
<p><strong>References:</strong></p>
<ul>
<li><a href="https://scikit-learn.org/stable/modules/permutation_importance.html">4.2. Permutation feature importance - scikit-learn 1.3.2 documentation</a></li>
<li><a href="https://github.com/slundberg/shap">GitHub - shap/shap: A game theoretic approach to explain the output of any machine learning model.</a></li>
<li><a href="https://github.com/SauceCat/PDPbox">GitHub - SauceCat/PDPbox: python partial dependence plot toolbox</a></li>
<li><a href="https://github.com/andosa/treeinterpreter">GitHub - andosa/treeinterpreter</a></li>
<li><a href="https://github.com/parrt/random-forest-explorer">https://github.com/parrt/random-forest-explorer</a></li>
<li>
<h2 id="dice-ml-diverse-counterfactual-explanations-for-ml-models-python"><a href="https://coderzcolumn.com/tutorials/machine-learning/dice-ml-diverse-counterfactual-explanations-for-ml-models">dice-ml - Diverse Counterfactual Explanations for ML Models [Python]</a></h2>
</li>
</ul>
        </div>


        <div class="article-tags">
            <span class="tags-label">Tags:</span>
                <a href="http://127.0.0.1:8000/tag/machine-learning/" class="article-tag">machine-learning</a>
                <a href="http://127.0.0.1:8000/tag/random-forest/" class="article-tag">random-forest</a>
                <a href="http://127.0.0.1:8000/tag/xai/" class="article-tag">xai</a>
        </div>









    </article>

    <footer>
<p>
  &copy; 2026 Krystian Safjan - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/deed.en_US" target="_blank">Creative Commons Attribution-ShareAlike</a>
</p>    </footer>
</main>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Blog",
  "name": "Krystian Safjan's Blog",
  "url": "http://127.0.0.1:8000",
"image": "/images/profile_new.jpg",  "description": ""
}
</script>


<script src="http://127.0.0.1:8000/pagefind/pagefind-ui.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', function() {
        new PagefindUI({
            element: "#search",
            showSubResults: false,
            showImages: false,
            basePath: "http://127.0.0.1:8000/pagefind/"
        });
    });
</script>

<script src="http://127.0.0.1:8000/theme/js/theme-switcher.js"></script>
</body>
</html>