
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="color-scheme" content="light dark"/>
    <script>
      (function() {
        var theme = localStorage.getItem('theme-preference');
        if (theme === 'dark' || theme === 'light') {
          document.documentElement.setAttribute('data-theme', theme);
        }
      })();
    </script>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="HandheldFriendly" content="True"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"/>
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap"
              rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="http://127.0.0.1:8000/theme/stylesheet/style.css">


    <link rel="stylesheet" type="text/css" href="http://127.0.0.1:8000/theme/pygments/github.min.css">


    <link rel="stylesheet" type="text/css" href="http://127.0.0.1:8000/theme/font-awesome/css/fontawesome.css">
    <link rel="stylesheet" type="text/css" href="http://127.0.0.1:8000/theme/font-awesome/css/brands.css">
    <link rel="stylesheet" type="text/css" href="http://127.0.0.1:8000/theme/font-awesome/css/solid.css">

    <link rel="stylesheet" href="http://127.0.0.1:8000/pagefind/pagefind-ui.css">

        <link rel="stylesheet" type="text/css"
              href="http://127.0.0.1:8000/styles/custom.css">








    <meta name="author" content="Krystian Safjan"/>
    <meta name="description" content="Discover the differences between Git Push Force and Git Push Force-With-Lease, their common use cases, and lesser-known features to help you manage your codebase effectively and safely."/>
    <meta name="keywords" content="git, git-push, git-push-force, git-push-force-with-lease, version-control, collaboration, commit-history, rebasing, squashing, git-commands">


  <meta property="og:site_name" content="Krystian Safjan's Blog"/>
  <meta property="og:title" content="Understanding the Differences Between Git Push Force and Git Push Force-With-Lease"/>
  <meta property="og:description" content="Discover the differences between Git Push Force and Git Push Force-With-Lease, their common use cases, and lesser-known features to help you manage your codebase effectively and safely."/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="http://127.0.0.1:8000/understanding-the-differences-between-git-push-force-and-git-push-force-with-lease/"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2022-11-22 00:00:00+01:00"/>
  <meta property="article:modified_time" content="2023-07-14 00:00:00+02:00"/>
  <meta property="article:author" content="http://127.0.0.1:8000/author/krystian-safjan/"/>
  <meta property="article:section" content="note"/>
  <meta property="article:tag" content="git"/>
  <meta property="article:tag" content="git-push"/>
  <meta property="article:tag" content="git-push-force"/>
  <meta property="article:tag" content="git-push-force-with-lease"/>
  <meta property="article:tag" content="version-control"/>
  <meta property="article:tag" content="collaboration"/>
  <meta property="article:tag" content="commit-history"/>
  <meta property="article:tag" content="rebasing"/>
  <meta property="article:tag" content="squashing"/>
  <meta property="article:tag" content="git-commands"/>
  <meta property="og:image" content="/images/profile_new.jpg"/>
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:image" content="/images/profile_new.jpg"/>
    <meta name="twitter:image:alt" content="Krystian Safjan's Blog"/>


    <meta name="twitter:site" content="@izikeros"/>
    <meta name="twitter:creator" content="@izikeros"/>
    <meta name="twitter:title" content="Understanding the Differences Between Git Push Force and Git Push Force-With-Lease"/>
    <meta name="twitter:description" content="Discover the differences between Git Push Force and Git Push Force-With-Lease, their common use cases, and lesser-known features to help you manage your codebase effectively and safely."/>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://127.0.0.1:8000/understanding-the-differences-between-git-push-force-and-git-push-force-with-lease/"
  },
  "headline": "Understanding the Differences Between Git Push Force and Git Push Force-With-Lease",
  "datePublished": "2022-11-22T00:00:00+01:00",
  "dateModified": "2023-07-14T00:00:00+02:00",
  "author": {
    "@type": "Person",
    "name": "Krystian Safjan",
    "url": "http://127.0.0.1:8000/author/krystian-safjan/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Krystian Safjan's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "/images/profile_new.jpg"
    }  },
"image": "/images/profile_new.jpg",  "url": "http://127.0.0.1:8000/understanding-the-differences-between-git-push-force-and-git-push-force-with-lease/",
  "description": "Discover the differences between Git Push Force and Git Push Force-With-Lease, their common use cases, and lesser-known features to help you manage your..."
}
</script>

    <title>    Understanding the Differences Between Git Push Force and Git Push Force-With-Lease
</title>



<!-- Google Automatic Ads -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9767732578835199"
     crossorigin="anonymous"></script>
<!-- End of Google Automatic Ads -->


</head>
<body>
<div id="reading-progress" class="reading-progress"></div>
<aside>
    <div>
        <a href="http://127.0.0.1:8000/">
                <img src="/images/profile_new.jpg" alt="Krystian Safjan's Blog" title="Krystian Safjan's Blog" width="140" height="140">
        </a>

        <h1>
            <a href="http://127.0.0.1:8000/">Krystian Safjan's Blog</a>
        </h1>

<p>Data Scientist | Researcher | Team Leader<br><br> working at Ernst &amp; Young and writing about <a href="/category/machine-learning.html">Data Science and Visualization</a>, on <a href="/category/machine-learning.html">Machine Learning, Deep Learning</a> and <a href="/tag/nlp/">NLP</a>. There are also some <a href="/category/howto.html">howto</a> posts on tools and workflows.</p>


        <ul class="social">
                <li>
                    <a  class="sc-linkedin" href="https://pl.linkedin.com/in/krystiansafjan"
                       target="_blank">
                        <i class="fab fa-linkedin"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-github" href="https://github.com/izikeros"
                       target="_blank">
                        <i class="fab fa-github"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-envelope" href="mailto:ksafjan@gmail.com"
                       target="_blank">
                        <i class="fas fa-envelope"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-graduation-cap" href="https://scholar.google.pl/citations?user=UlNJgMoAAAAJ"
                       target="_blank">
                        <i class="fas fa-graduation-cap"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-rss" href="/feeds/all.rss.xml"
                       target="_blank">
                        <i class="fas fa-rss"></i>
                    </a>
                </li>
        </ul>
    </div>

<div class="promo-box">
    <a href="https://ksafjanuser.gumroad.com/l/mlops" class="promo-box-image">
        <img src="/images/mlop_interview_book_cover_3D_300px.jpg" alt="MLOps Interview Book Cover">
    </a>
    
    <p class="promo-box-headline">Ace Your MLOps Interview</p>
    
    <a href="https://ksafjanuser.gumroad.com/l/mlops" class="promo-box-cta">
        Get for $2.99
    </a>
    
    <p class="promo-box-features">50 Q&A â€¢ PDF/ePUB/mobi</p>
</div>
</aside>
<main>

        <nav>
            <a href="http://127.0.0.1:8000/">Home</a>

                <a href="/archives.html">Articles</a>
                <a href="/til.html">Notes</a>
                <a href="/categories.html">Categories</a>
                <a href="/pdfs/Krystian_Safjan_resume_priv.pdf">Resume</a>



            <div id="search" class="nav-search"></div>
            <button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme">
                <i class="fas fa-sun"></i>
                <i class="fas fa-moon"></i>
            </button>
        </nav>

    <article class="single">
        <header>
                
            <p>
                <!-- Posted on: -->
                2022-11-22 


                    <span class="share-icons">
                        <a href="https://twitter.com/intent/tweet?text=Understanding%20the%20Differences%20Between%20Git%20Push%20Force%20and%20Git%20Push%20Force-With-Lease&url=http%3A//127.0.0.1%3A8000/understanding-the-differences-between-git-push-force-and-git-push-force-with-lease/&via=izikeros&hashtags=git,git-push,git-push-force,git-push-force-with-lease,version-control,collaboration,commit-history,rebasing,squashing,git-commands" target="_blank" title="Share on Twitter" class="share-icon"><i class="fab fa-twitter"></i></a>
                        <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A//127.0.0.1%3A8000/understanding-the-differences-between-git-push-force-and-git-push-force-with-lease/" target="_blank" title="Share on Facebook" class="share-icon"><i class="fab fa-facebook"></i></a>
                        <a href="https://news.ycombinator.com/submitlink?t=Understanding%20the%20Differences%20Between%20Git%20Push%20Force%20and%20Git%20Push%20Force-With-Lease&u=http%3A//127.0.0.1%3A8000/understanding-the-differences-between-git-push-force-and-git-push-force-with-lease/" target="_blank" title="Share on Hacker News" class="share-icon"><i class="fab fa-hacker-news"></i></a>
                        <a href="https://www.reddit.com/submit?url=http%3A//127.0.0.1%3A8000/understanding-the-differences-between-git-push-force-and-git-push-force-with-lease/&title=Understanding%20the%20Differences%20Between%20Git%20Push%20Force%20and%20Git%20Push%20Force-With-Lease" target="_blank" title="Share on Reddit" class="share-icon"><i class="fab fa-reddit"></i></a>
                    </span>
                <br/>
            </p>
            <h1 id="understanding-the-differences-between-git-push-force-and-git-push-force-with-lease">Understanding the Differences Between Git Push Force and Git Push Force-With-Lease</h1>
            <div class="header-underline"></div>



        </header>



        <details class="toc-details" id="toc-container">
            <summary>Table of Contents</summary>
            <nav class="toc" aria-label="Table of Contents">
                <ul class="toc-list"></ul>
            </nav>
        </details>

        <div class="article-content">
            <p>In the world of version control, Git is a powerful and widely-used tool for managing and tracking changes in your codebase. It allows multiple developers to work on the same project simultaneously, without conflicts. But when it comes to pushing changes to a remote repository, you might encounter some challenges. In this article, we will explore two Git commands that can help you overcome these challenges: <code>git push --force</code> and <code>git push --force-with-lease</code>. We will discuss their differences, common use cases, and lesser-known but super useful aspects of each.</p>
<!-- MarkdownTOC levels="2,3,4" autolink="true" autoanchor="true" -->

<ul>
<li><a href="#git-push-force">Git Push Force</a><ul>
<li><a href="#use-cases">Use Cases</a><ul>
<li><a href="#undoing-a-mistaken-push">Undoing a mistaken push</a></li>
<li><a href="#cleaning-up-messy-commit-history">Cleaning up messy commit history</a></li>
<li><a href="#updating-a-feature-branch">Updating a feature branch</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#git-push-force-with-lease">Git Push Force-With-Lease</a><ul>
<li><a href="#use-cases-1">Use Cases</a><ul>
<li><a href="#collaborative-work">Collaborative work</a></li>
<li><a href="#rebasing-or-squashing-commits">Rebasing or squashing commits</a></li>
<li><a href="#updating-a-feature-branch-1">Updating a feature branch</a></li>
</ul>
</li>
<li><a href="#lesser-known-useful-features">Lesser-Known Useful Features</a><ul>
<li><a href="#lease-reference">Lease reference</a></li>
<li><a href="#dry-run">Dry run</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#comparing-git-push-force-and-git-push-force-with-lease">Comparing Git Push Force and Git Push Force-With-Lease</a></li>
<li><a href="#related-reading">Related reading</a></li>
</ul>
<!-- /MarkdownTOC -->

<p><a id="git-push-force"></a></p>
<h2 id="git-push-force">Git Push Force</h2>
<p><a href="https://git-scm.com/docs/git-push#Documentation/git-push.txt---force"><code>git push --force</code></a> is a command that allows you to overwrite the remote branch with your local branch, regardless of any conflicts or discrepancies between the two branches. This is a powerful command that should be used with caution, as it can result in lost commits and overwritten work.</p>
<p><a id="use-cases"></a></p>
<h3 id="use-cases">Use Cases</h3>
<p><a id="undoing-a-mistaken-push"></a></p>
<h4 id="undoing-a-mistaken-push">Undoing a mistaken push</h4>
<p>If you accidentally pushed a commit with incorrect changes or to the wrong branch, you can use <code>git push --force</code> to overwrite the remote branch with the correct local branch.</p>
<p><a id="cleaning-up-messy-commit-history"></a></p>
<h4 id="cleaning-up-messy-commit-history">Cleaning up messy commit history</h4>
<p>If you want to clean up a cluttered commit history by squashing or rewriting commits, you can use <code>git push --force</code> to push the updated history to the remote branch.</p>
<p><a id="updating-a-feature-branch"></a></p>
<h4 id="updating-a-feature-branch">Updating a feature branch</h4>
<p>If you have a feature branch that has diverged significantly from the main branch, and you want to update it with the latest changes from the main branch, you can use <code>git push --force</code> to push the updated feature branch to the remote repository.</p>
<p><a id="git-push-force-with-lease"></a></p>
<h2 id="git-push-force-with-lease">Git Push Force-With-Lease</h2>
<p><a href="https://git-scm.com/docs/git-push#Documentation/git-push.txt---no-force-with-lease"><code>git push --force-with-lease</code></a> is a safer alternative to <code>git push --force</code>. It allows you to push changes to the remote branch only if the remote branch is at the same commit as the one you have locally. If the remote branch has been updated by someone else, the push will be rejected, preventing accidental overwrites.
<a id="use-cases-1"></a></p>
<h3 id="use-cases_1">Use Cases</h3>
<p><a id="collaborative-work"></a></p>
<h4 id="collaborative-work">Collaborative work</h4>
<p>When working with a team, using <code>git push --force-with-lease</code> helps ensure that you do not accidentally overwrite someone else's work.</p>
<p><a id="rebasing-or-squashing-commits"></a></p>
<h4 id="rebasing-or-squashing-commits">Rebasing or squashing commits</h4>
<p>If you need to rebase or squash commits, using <code>git push --force-with-lease</code> is a safer option, as it ensures that you are not overwriting any new commits.</p>
<p><a id="updating-a-feature-branch-1"></a></p>
<h4 id="updating-a-feature-branch_1">Updating a feature branch</h4>
<p>Similar to <code>git push --force</code>, you can use <code>git push --force-with-lease</code> to update a feature branch with the latest changes from the main branch. However, it is a safer option, as it ensures that you are not overwriting any new commits on the remote branch.</p>
<p><a id="lesser-known-useful-features"></a></p>
<h3 id="lesser-known-useful-features">Lesser-Known Useful Features</h3>
<p><a id="lease-reference"></a></p>
<h4 id="lease-reference">Lease reference</h4>
<p><code>git push --force-with-lease</code> accepts an optional argument, the lease reference, which allows you to specify the expected commit of the remote branch. This adds an extra layer of safety by ensuring that the remote branch is at the exact commit you expect before pushing.</p>
<div class="highlight"><pre><span></span><code>git<span class="w"> </span>push<span class="w"> </span>--force-with-lease<span class="o">=</span>origin/main:&lt;expected-commit&gt;
</code></pre></div>

<p><a id="dry-run"></a></p>
<h4 id="dry-run">Dry run</h4>
<p>By adding the <code>--dry-run</code> option, you can check if the push would succeed without actually pushing the changes. This can help you avoid potential conflicts and overwrites.</p>
<div class="highlight"><pre><span></span><code>git<span class="w"> </span>push<span class="w"> </span>--force-with-lease<span class="w"> </span>--dry-run
</code></pre></div>

<p><a id="comparing-git-push-force-and-git-push-force-with-lease"></a></p>
<h2 id="comparing-git-push-force-and-git-push-force-with-lease">Comparing Git Push Force and Git Push Force-With-Lease</h2>
<table>
<thead>
<tr>
<th>Command</th>
<th>Overwrites Remote Branch</th>
<th>Safety</th>
<th>Use Cases</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>git push --force</code></td>
<td>Yes</td>
<td>Low</td>
<td>Undoing a mistaken push, cleaning up messy commit history, updating a feature branch</td>
</tr>
<tr>
<td><code>git push --force-with-lease</code></td>
<td>No, only if the remote branch is at the same commit as the local branch</td>
<td>High</td>
<td>Collaborative work, rebasing or squashing commits, updating a feature branch with additional safety</td>
</tr>
</tbody>
</table>
<p><a id="related-reading"></a></p>
<h2 id="related-reading">Related reading</h2>
<p>Proper way to do git push force: <a href="https://willi.am/blog/2014/08/12/the-dark-side-of-the-force-push/">The Dark Side of the Force Push - Will Anderson</a></p>
        </div>


        <div class="article-tags">
            <span class="tags-label">Tags:</span>
                <a href="http://127.0.0.1:8000/tag/git/" class="article-tag">git</a>
                <a href="http://127.0.0.1:8000/tag/git-push/" class="article-tag">git-push</a>
                <a href="http://127.0.0.1:8000/tag/git-push-force/" class="article-tag">git-push-force</a>
                <a href="http://127.0.0.1:8000/tag/git-push-force-with-lease/" class="article-tag">git-push-force-with-lease</a>
                <a href="http://127.0.0.1:8000/tag/version-control/" class="article-tag">version-control</a>
                <a href="http://127.0.0.1:8000/tag/collaboration/" class="article-tag">collaboration</a>
                <a href="http://127.0.0.1:8000/tag/commit-history/" class="article-tag">commit-history</a>
                <a href="http://127.0.0.1:8000/tag/rebasing/" class="article-tag">rebasing</a>
                <a href="http://127.0.0.1:8000/tag/squashing/" class="article-tag">squashing</a>
                <a href="http://127.0.0.1:8000/tag/git-commands/" class="article-tag">git-commands</a>
        </div>





            <div class="related-posts">
                <h4 class="related-posts-title">You might also like</h4>
                <div class="related-posts-grid">
                        <a href="http://127.0.0.1:8000/git-worktrees-ai-multi-workflows/" class="related-post-card">
                            <span class="related-post-title">Working Faster with Git Worktrees and AI-Based Multi-Workflow Development</span>
                            <span class="related-post-date">Nov 28, 2025</span>
                        </a>
                        <a href="http://127.0.0.1:8000/git-worktrees-for-ai-coding/" class="related-post-card">
                            <span class="related-post-title">Using Git Worktrees as Clean Rooms for AI-Assisted Coding</span>
                            <span class="related-post-date">Nov 28, 2025</span>
                        </a>
                        <a href="http://127.0.0.1:8000/git-checkout-orphan-gh-pages-performance-results/" class="related-post-card">
                            <span class="related-post-title">Keeping performance results in a separate Git branch using `git checkout --orphan`</span>
                            <span class="related-post-date">Oct 24, 2025</span>
                        </a>
                        <a href="http://127.0.0.1:8000/github-permission-to-repogit-denied-to-user/" class="related-post-card">
                            <span class="related-post-title">GitHub - Troubleshooting 'Permission to repo.git denied to user'</span>
                            <span class="related-post-date">Mar 21, 2024</span>
                        </a>
                </div>
            </div>




    </article>

    <footer>
<p>
  &copy; 2026 Krystian Safjan - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/deed.en_US" target="_blank">Creative Commons Attribution-ShareAlike</a>
</p>    </footer>
</main>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Blog",
  "name": "Krystian Safjan's Blog",
  "url": "http://127.0.0.1:8000",
"image": "/images/profile_new.jpg",  "description": ""
}
</script>


<script src="http://127.0.0.1:8000/pagefind/pagefind-ui.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', function() {
        new PagefindUI({
            element: "#search",
            showSubResults: false,
            showImages: false
        });
    });
</script>

<script src="http://127.0.0.1:8000/theme/js/theme-switcher.js"></script>
</body>
</html>