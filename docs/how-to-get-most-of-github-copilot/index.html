
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="../theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="../theme/pygments/github.min.css">


        <link rel="stylesheet" href="https://unpkg.com/applause-button/dist/applause-button.css" />
        <script src="https://unpkg.com/applause-button/dist/applause-button.js"></script>

  <link rel="stylesheet" type="text/css" href="../theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="../theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="../theme/font-awesome/css/solid.css">

  <link rel="stylesheet" type="text/css" href="../styles/custom.css">








<meta name="author" content="Krystian Safjan" />
<meta name="description" content="This post describes techniques that help to get most accurate suggestions from the GitHub Copilot “Your AI pair programmer”. For those who never heard of Copilot there is short introduction, if you already know Copilot - you can jump directly to section 4: “How to get most of GitHub Copilot”." />
<meta name="keywords" content="github, coding, ai">


  <meta property="og:site_name" content="Krystian Safjan's Blog"/>
  <meta property="og:title" content="How to get most of GitHub Copilot"/>
  <meta property="og:description" content="This post describes techniques that help to get most accurate suggestions from the GitHub Copilot “Your AI pair programmer”. For those who never heard of Copilot there is short introduction, if you already know Copilot - you can jump directly to section 4: “How to get most of GitHub Copilot”."/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="../how-to-get-most-of-github-copilot/"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2022-01-25 00:00:00+01:00"/>
  <meta property="article:modified_time" content=""/>
  <meta property="article:author" content="../author/krystian-safjan/">
  <meta property="article:section" content="Howto"/>
  <meta property="article:tag" content="github"/>
  <meta property="article:tag" content="coding"/>
  <meta property="article:tag" content="ai"/>
  <meta property="og:image" content="..//images/head/copilot-warp-speed-head.jpg">

  <title>Krystian Safjan's Blog &ndash; How to get most of GitHub Copilot</title>


<!-- Google Automatic Ads -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9767732578835199"
     crossorigin="anonymous"></script>
<!-- End of Google Automatic Ads -->


</head>
<body class="light-theme">
  <aside>
    <div>
      <a href="../">
        <img src="/images/profile_new.jpg" alt="Krystian Safjan's Blog" title="Krystian Safjan's Blog" width="140" height="140">
      </a>

      <h1>
        <a href="../">Krystian Safjan's Blog</a>
      </h1>

<p><p>Data Scientist | Researcher | Team Leader</p><br/><br/>I'm working at Ernst &amp; Young and writing about <a href="/category/data-science.html">Data Science and Visualization</a>, on <a href="/category/data-science.html">Machine Learning, Deep Learning</a> and <a href="/tag/nlp/">NLP</a>. There are also some <a href="/category/howto.html">howto</a> posts on tools and workflows.</li></ul><hr></p>


      <ul class="social">
          <li>
            <a  class="sc-linkedin" href="https://pl.linkedin.com/in/krystiansafjan" target="_blank">
              <i class="fab fa-linkedin"></i>
            </a>
          </li>
          <li>
            <a  class="sc-github" href="https://github.com/izikeros" target="_blank">
              <i class="fab fa-github"></i>
            </a>
          </li>
          <li>
            <a  class="sc-envelope" href="mailto:ksafjan@gmail.com" target="_blank">
              <i class="fas fa-envelope"></i>
            </a>
          </li>
          <li>
            <a  class="sc-graduation-cap" href="https://scholar.google.pl/citations?user=UlNJgMoAAAAJ" target="_blank">
              <i class="fas fa-graduation-cap"></i>
            </a>
          </li>
          <li>
            <a  class="sc-rss" href="/feeds/all.rss.xml" target="_blank">
              <i class="fas fa-rss"></i>
            </a>
          </li>
      </ul>
    </div>

  </aside>
  <main>

    <nav>
      <a href="../">Home</a>

      <a href="/archives.html">Articles</a>
      <a href="/til.html">Notes</a>
      <a href="/categories.html">Categories</a>
      <a href="/tags.html">Tags</a>
      <a href="/pdfs/Krystian_Safjan_resume_priv.pdf">Resume</a>


    </nav>

<article class="single">
  <header>
      
    <p>
      <!-- Posted on: -->
      January 25, 2022 



  <span id="post-share-links">
    &nbsp;&nbsp;&nbsp;Share on:
    <a href="https://twitter.com/intent/tweet?text=How%20to%20get%20most%20of%20GitHub%C2%A0Copilot&url=/how-to-get-most-of-github-copilot/&hashtags=github,coding,ai" target="_blank" title="Share on Twitter">Twitter</a>
    |
    <a href="https://www.facebook.com/sharer/sharer.php?u=/how-to-get-most-of-github-copilot/" target="_blank" title="Share on Facebook">Facebook</a>
    |
    <a href="https://news.ycombinator.com/submitlink?t=How%20to%20get%20most%20of%20GitHub%C2%A0Copilot&u=/how-to-get-most-of-github-copilot/" target="_blank" title="Share on HackerNews">HackerNews</a>
    |
    <a href="https://www.reddit.com/submit?url=/how-to-get-most-of-github-copilot/&title=How%20to%20get%20most%20of%20GitHub%C2%A0Copilot" target="_blank" title="Share via Reddit">Reddit</a>
  </span>
    <br/>
   </p>
  <h1 id="how-to-get-most-of-github-copilot">How to get most of GitHub&nbsp;Copilot</h1>
  <div class="header-underline"></div>
  </header>


  <div>
    <h2><span class="caps">TLDR</span></h2>
<p>To get accurate autosuggestion from Copilot you&nbsp;can:</p>
<ol>
<li><strong>Modify signature</strong> of received suggestion to one that capture all relevant inputs and wait for new&nbsp;suggestion.</li>
<li><strong>Write pseudocode</strong>: describe steps for the function with complex business&nbsp;logic.</li>
<li>For functions with complex business logic <strong>divide them into multiple smaller functions</strong>. Purpose of smaller function is easier to describe with just function name or the&nbsp;comment/docstring.</li>
</ol>
<h2>Outline:</h2>
<ol>
<li>What is GitHub&nbsp;Copilot?</li>
<li>How to get&nbsp;it?</li>
<li>How to use&nbsp;it?</li>
<li>How to get most of GitHub&nbsp;Copilot?</li>
</ol>
<h2>1. What is GitHub&nbsp;Copilot?</h2>
<p>In brief: <a href="https://copilot.github.com/">GitHub Copilot</a>, gives suggestions for whole lines or entire functions right inside your editor as you type. Currently, there is support for Visual Studio Code, Neovim, and JetBrains IDEs like PyCharm and IntelliJ <span class="caps">IDEA</span>.
GitHub Copilot is powered by the OpenAI Codex <span class="caps">AI</span> system, and, as authors claimed, trained on public internet text and billions of lines of&nbsp;code.</p>
<p>The way how it is used is that human programmer provides comment with intention what code he/she would like to get, and as autocomplete suggestion gets whole functions of classes. GitHub Copilot uses not only exact comment test but also context of the code that is expected to be&nbsp;auto-generated.</p>
<p><img alt="img" src="https://copilot.github.com/diagram.png">
Figure 1. Data exchange between GitHub Copilot service, OpenAI Codex Model and Private Code and <span class="caps">IDE</span>. Image from:&nbsp;copilot.github.com</p>
<h2>2. How to get&nbsp;it?</h2>
<p>Access to GitHub Copilot is limited to a small group of testers during the technical preview. You can sign up and join the wait-list to try it out <a href="https://github.com/features/copilot/signup">here</a>.</p>
<h2>3. How to use&nbsp;it?</h2>
<p>Provide a docstring, comment, function name, or the piece of code itself, GitHub Copilot will use the context you’ve provided and generate code as&nbsp;suggestion.</p>
<h2>4. How to get most of GitHub&nbsp;Copilot?</h2>
<p>After using the GitHub Copilot service for almost three months, I was amazed how useful suggestions from Copilot can be. Of course, it is not ideal - suggestions are not always meeting my expectations. Sometimes it took few attempts to formulate my expectations to get the code that was looking good to me.
What I learned by the time of writing this post, are the few simple rules that can increase accuracy of the suggestions. I will outline them below. I&#8217;m using three main strategies to communicate my expectations with the GitHub Copilot&nbsp;service:</p>
<h3>Simple case - write short&nbsp;comment</h3>
<p>For the simple cases: just write  comment that describe behavior for the code that you want to get as suggestion.
As example - we want to get a function that will return paths to all images in given directory and sub-directories. We are interested only in images of given type (specified file&nbsp;extensions).</p>
<p>Here is first attempt to get code auto completion from GitHub&nbsp;copilot.</p>
<p><img alt="img" src="../images/copilot/copilot_1.gif"></p>
<p>Figure 2. Autosuggestion obtained as auto-completion to comment describing behavior of the&nbsp;function.</p>
<p>The example above illustrate how we started with initial suggestion for the comment and how the suggested  comment was refined as suggestions were provided by Copilot. The first suggestion for the code was very near the expectation - one thing that is missing is the support for selecting file extensions of&nbsp;interest.</p>
<p>Let&#8217;s try to modify function signature and add list of extensions (and type hints):
old signature&nbsp;was:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_images_in_dir</span><span class="p">(</span><span class="n">directory</span><span class="p">):</span>
</code></pre></div>

<p>new&nbsp;signature:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_images_in_dir</span><span class="p">(</span><span class="n">directory</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">extensions</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
</code></pre></div>

<p>And this time resulting code that meet&nbsp;requirements:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_images_in_dir</span><span class="p">(</span><span class="n">directory</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">extensions</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get list of images in a directory, recursively. Include extensions:</span>
<span class="sd">    .jpg, .png, cr2, etc.</span>
<span class="sd">    :param directory: str</span>
<span class="sd">    :param extensions: list</span>
<span class="sd">    :return: list</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">images</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">directory</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">file</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">extensions</span><span class="p">)):</span>
                <span class="n">images</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">file</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">images</span>
</code></pre></div>

<p>Other examples of functions that short comment can sufficiently describe&nbsp;responsibility:</p>
<div class="highlight"><pre><span></span><code># get image of the day from bing (or Wikipedia/NASA/...)

# convert a list of dictionaries to a list of lists

# get information using public API from stocktwits
</code></pre></div>

<h2>Simple case - write function&nbsp;name</h2>
<p>Starting with descriptive function name can work as well:
 <img alt="img" src="../images/copilot/copilot_2.gif"></p>
<h3>More complex cases - write&nbsp;pseudocode</h3>
<p>For the complex cases: write line of comment that describe behavior for the code that you want to get as suggestion.&nbsp;Example:</p>
<p>Comment with purpose of the function and pseudocode describing elements of&nbsp;solution</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Check if two nested lists have the same dictionaries</span>
<span class="c1"># pseudocode:</span>
<span class="c1"># 1. Check if two top-level lists have the same length</span>
<span class="c1"># 2. Check if each pair of lower-level lists have the same length</span>
<span class="c1"># 3. Check if each pair of lower-level lists have the same keys and values</span>
</code></pre></div>

<p>Resulting&nbsp;code:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">check_lists_equal_nested</span><span class="p">(</span><span class="n">list_1</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">list_2</span><span class="p">:</span> <span class="nb">list</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check if two nested lists have the same dictionaries</span>
<span class="sd">    :param list_1: list</span>
<span class="sd">    :param list_2: list</span>
<span class="sd">    :return: bool</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># 1. Check if two top-level lists have the same length</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">list_1</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">list_2</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="c1"># 2. Check if each pair of lower-level lists have the same length</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">list_1</span><span class="p">)):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">list_1</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">list_2</span><span class="p">[</span><span class="n">i</span><span class="p">]):</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="c1"># 3. Check if each pair of lower-level lists have the same keys and values</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">list_1</span><span class="p">)):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">list_1</span><span class="p">[</span><span class="n">i</span><span class="p">])):</span>
            <span class="k">if</span> <span class="n">list_1</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="n">list_2</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]:</span>
                <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>

<p><img alt="img" src="../images/copilot/copilot_1.gif"></p>
<h2>More complex cases - write&nbsp;pseudocode</h2>
<p>For functions with complex business logic <strong>divide them into multiple smaller functions</strong>. Purpose of smaller function is easier to describe with just function name or the comment/docstring. This is well known rule (at least from ancient Greeks) allowing to break big problem into smaller that are much easier to&nbsp;address.</p>
<blockquote>
<p><strong>Divide et&nbsp;Impera!</strong></p>
<p><em>Divide and conquer!</em> : in politics and sociology, it is <em>a strategy of gaining and maintaining power by breaking up larger concentrations of power into pieces that individually have less power than the one implementing the strategy.</em> <a href="https://en.wikipedia.org/wiki/Divide_and_rule">wikipedia</a></p>
</blockquote>
<p>This rule also works when applied to using GitHub Copilot, I will not go into details since the method is pretty obvious and if not one can easily find multiple texts on applying &#8220;Divide and conquer&#8221; applications to software&nbsp;engineering.</p>
<h3>My impressions after using&nbsp;Copilot</h3>
<p>I have started using Copilot in November 2021. When I had copilot plugin enabled I put more attention to use meaningful function names expecting the reward in form of auto-suggested code that will fit my&nbsp;needs.</p>
<p>I found Copilot great for using python for automation tasks - many simple functions that somebody else for sure has written someday, but it is too expensive to search e.g. GitHub snippet or code. Copilot comes in handy as replacement of gists of basic functions for manipulating text, files,&nbsp;etc.</p>
<p><strong>Credits:</strong></p>
<p>warp speed image comes from <a href="https://videohive.net/item/warp-speed-effect-v10/47100">here</a></p>
  </div>

     <div id="applause-container">
        <applause-button color="#d9411e" style="width: 58px; height: 58px;"/>
     </div>

  <div class="tag-cloud">
    <p>
      <br/><br/>Tags:&nbsp;
      <a href="../tag/github/">github</a>
      <a href="../tag/coding/">coding</a>
      <a href="../tag/ai/">ai</a>
    </p>
  </div>


  <div class="neighbors">
    <a class="btn float-left" href="../git-delete-branches-merged-into-main-branch/" title="Git - delete branches that are merged into main branch">
      <i class="fa fa-angle-left"></i> Previous Post
    </a>
    <a class="btn float-right" href="../tools-for-doc-deskewing-and-dewarping/" title="15 tools for document Deskewing and Dewarping">
      Next Post <i class="fa fa-angle-right"></i>
    </a>
  </div>

  <div class="related-posts">
    <h4>You might enjoy</h4>
    <ul class="related-posts">
      <li><a href="../git-pre-commit-hooks/">Git pre-commit&nbsp;hooks</a></li>
    </ul>
  </div>


</article>

    <footer>
<p>
  &copy; 2022 Krystian Safjan - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/deed.en_US" target="_blank">Creative Commons Attribution-ShareAlike</a>
</p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p><p>
  <a rel="license"
     href="http://creativecommons.org/licenses/by-sa/4.0/"
     target="_blank">
    <img alt="Creative Commons License"
         title="Creative Commons License"
         style="border-width:0"
           src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"
         width="80"
         height="15"/>
  </a>
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Krystian Safjan's Blog ",
  "url" : "..",
  "image": "/images/profile_new.jpg",
  "description": ""
}
</script>

</body>
</html>