
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="color-scheme" content="light dark"/>
    <script>
      (function() {
        var theme = localStorage.getItem('theme-preference');
        if (theme === 'dark' || theme === 'light') {
          document.documentElement.setAttribute('data-theme', theme);
        }
      })();
    </script>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="HandheldFriendly" content="True"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"/>
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap"
              rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="http://127.0.0.1:8000/theme/stylesheet/style.css">


    <link rel="stylesheet" type="text/css" href="http://127.0.0.1:8000/theme/pygments/github.min.css">


    <link rel="stylesheet" type="text/css" href="http://127.0.0.1:8000/theme/font-awesome/css/fontawesome.css">
    <link rel="stylesheet" type="text/css" href="http://127.0.0.1:8000/theme/font-awesome/css/brands.css">
    <link rel="stylesheet" type="text/css" href="http://127.0.0.1:8000/theme/font-awesome/css/solid.css">

    <link rel="stylesheet" href="http://127.0.0.1:8000/pagefind/pagefind-ui.css">

        <link rel="stylesheet" type="text/css"
              href="http://127.0.0.1:8000/styles/custom.css">








    <meta name="author" content="Krystian Safjan"/>
    <meta name="description" content="Machine learning (ML) models are becoming increasingly popular in various industries, and as a result, the need to distribute and deploy these models in a secure, portable, and efficient manner has become crucial. One way to accomplish this is by creating command …"/>
    <meta name="keywords" content="machine-learning, packaging, deployment, model-delivery, cli, commandline">


  <meta property="og:site_name" content="Krystian Safjan's Blog"/>
  <meta property="og:title" content="Creating Command Line Tools From Machine Learning Models"/>
  <meta property="og:description" content="Machine learning (ML) models are becoming increasingly popular in various industries, and as a result, the need to distribute and deploy these models in a secure, portable, and efficient manner has become crucial. One way to accomplish this is by creating command …"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="http://127.0.0.1:8000/creating-command-line-tools-from-machine-learning-models/"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2023-01-17 00:00:00+01:00"/>
  <meta property="article:modified_time" content="2023-07-12 00:00:00+02:00"/>
  <meta property="article:author" content="http://127.0.0.1:8000/author/krystian-safjan/"/>
  <meta property="article:section" content="note"/>
  <meta property="article:tag" content="machine-learning"/>
  <meta property="article:tag" content="packaging"/>
  <meta property="article:tag" content="deployment"/>
  <meta property="article:tag" content="model-delivery"/>
  <meta property="article:tag" content="cli"/>
  <meta property="article:tag" content="commandline"/>
  <meta property="og:image" content="/images/profile_new.jpg"/>
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:image" content="/images/profile_new.jpg"/>
    <meta name="twitter:image:alt" content="Krystian Safjan's Blog"/>


    <meta name="twitter:site" content="@izikeros"/>
    <meta name="twitter:creator" content="@izikeros"/>
    <meta name="twitter:title" content="Creating Command Line Tools From Machine Learning Models"/>
    <meta name="twitter:description" content="Machine learning (ML) models are becoming increasingly popular in various industries, and as a result, the need to distribute and deploy these models in a secure, portable, and efficient..."/>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://127.0.0.1:8000/creating-command-line-tools-from-machine-learning-models/"
  },
  "headline": "Creating Command Line Tools From Machine Learning Models",
  "datePublished": "2023-01-17T00:00:00+01:00",
  "dateModified": "2023-07-12T00:00:00+02:00",
  "author": {
    "@type": "Person",
    "name": "Krystian Safjan",
    "url": "http://127.0.0.1:8000/author/krystian-safjan/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Krystian Safjan's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "/images/profile_new.jpg"
    }  },
"image": "/images/profile_new.jpg",  "url": "http://127.0.0.1:8000/creating-command-line-tools-from-machine-learning-models/",
  "description": "Machine learning (ML) models are becoming increasingly popular in various industries, and as a result, the need to distribute and deploy these models in a..."
}
</script>

    <title>    Creating Command Line Tools From Machine Learning Models
</title>



<!-- Google Automatic Ads -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9767732578835199"
     crossorigin="anonymous"></script>
<!-- End of Google Automatic Ads -->


</head>
<body>
<div id="reading-progress" class="reading-progress"></div>
<aside>
    <div>
        <a href="http://127.0.0.1:8000/">
                <img src="/images/profile_new.jpg" alt="Krystian Safjan's Blog" title="Krystian Safjan's Blog" width="140" height="140">
        </a>

        <h1>
            <a href="http://127.0.0.1:8000/">Krystian Safjan's Blog</a>
        </h1>

<p>Data Scientist | Researcher | Team Leader<br><br> working at Ernst &amp; Young and writing about <a href="/category/machine-learning.html">Data Science and Visualization</a>, on <a href="/category/machine-learning.html">Machine Learning, Deep Learning</a> and <a href="/tag/nlp/">NLP</a>. There are also some <a href="/category/howto.html">howto</a> posts on tools and workflows.</p>


        <ul class="social">
                <li>
                    <a  class="sc-linkedin" href="https://pl.linkedin.com/in/krystiansafjan"
                       target="_blank">
                        <i class="fab fa-linkedin"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-github" href="https://github.com/izikeros"
                       target="_blank">
                        <i class="fab fa-github"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-envelope" href="mailto:ksafjan@gmail.com"
                       target="_blank">
                        <i class="fas fa-envelope"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-graduation-cap" href="https://scholar.google.pl/citations?user=UlNJgMoAAAAJ"
                       target="_blank">
                        <i class="fas fa-graduation-cap"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-rss" href="/feeds/all.rss.xml"
                       target="_blank">
                        <i class="fas fa-rss"></i>
                    </a>
                </li>
        </ul>
    </div>

<div class="promo-box">
    <a href="https://ksafjanuser.gumroad.com/l/mlops" class="promo-box-image">
        <img src="/images/mlop_interview_book_cover_3D_300px.jpg" alt="MLOps Interview Book Cover">
    </a>
    
    <p class="promo-box-headline">Ace Your MLOps Interview</p>
    
    <a href="https://ksafjanuser.gumroad.com/l/mlops" class="promo-box-cta">
        Get for $2.99
    </a>
    
    <p class="promo-box-features">50 Q&A • PDF/ePUB/mobi</p>
</div>
</aside>
<main>

        <nav>
            <a href="http://127.0.0.1:8000/">Home</a>

                <a href="/archives.html">Articles</a>
                <a href="/til.html">Notes</a>
                <a href="/categories.html">Categories</a>
                <a href="/pdfs/Krystian_Safjan_resume_priv.pdf">Resume</a>



            <div id="search" class="nav-search"></div>
            <button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme">
                <i class="fas fa-sun"></i>
                <i class="fas fa-moon"></i>
            </button>
        </nav>

    <article class="single">
        <header>
                
            <p>
                <!-- Posted on: -->
                2023-01-17 


                <br/>
            </p>
            <h1 id="creating-command-line-tools-from-machine-learning-models">Creating Command Line Tools From Machine Learning Models</h1>
            <div class="header-underline"></div>



        </header>



        <details class="toc-details" id="toc-container">
            <summary>Table of Contents</summary>
            <nav class="toc" aria-label="Table of Contents">
                <ul class="toc-list"></ul>
            </nav>
        </details>

        <div class="article-content">
            <p>Machine learning (ML) models are becoming increasingly popular in various industries, and as a result, the need to distribute and deploy these models in a secure, portable, and efficient manner has become crucial. One way to accomplish this is by creating command line tools from ML models. Command line tools are easy to use, efficient and can be integrated with other tools and workflows.</p>
<h2 id="overview">Overview</h2>
<p>This article will cover the following topics:</p>
<!-- MarkdownTOC autolink="true" autoanchor="true" -->

<ul>
<li><a href="#why-use-command-line-tools-for-ml-models">Why use command line tools for ML models</a></li>
<li><a href="#creating-a-command-line-tool-using-argparse">Creating a command line tool using argparse</a></li>
<li><a href="#integrating-the-model-into-the-command-line-tool">Integrating the model into the command line tool</a></li>
<li><a href="#packaging-the-command-line-tool-as-a-python-pex-file">Packaging the command line tool as a Python PEX file</a></li>
<li><a href="#examples-of-command-line-tools-for-ml-models">Examples of command line tools for ML models</a></li>
</ul>
<!-- /MarkdownTOC -->

<p><a id="why-use-command-line-tools-for-ml-models"></a></p>
<h2 id="why-use-command-line-tools-for-ml-models">Why use command line tools for ML models</h2>
<p>Command line tools are a simple and efficient way to interact with an ML model. They can be easily integrated into existing systems and workflows, and can be run on a variety of platforms, including Windows, Linux, and Mac. Additionally, command line tools are easy to use and can be invoked from the command line, making them accessible to non-technical users.</p>
<p><a id="creating-a-command-line-tool-using-argparse"></a></p>
<h2 id="creating-a-command-line-tool-using-argparse">Creating a command line tool using argparse</h2>
<p><a href="https://docs.python.org/3/library/argparse.html">argparse</a> is a built-in Python library that makes it easy to create command line tools. It allows you to define the arguments that the tool takes and provides a simple interface for parsing those arguments.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">argparse</span>

<span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Process some integers.&#39;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;integers&#39;</span><span class="p">,</span> <span class="n">metavar</span><span class="o">=</span><span class="s1">&#39;N&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=</span><span class="s1">&#39;+&#39;</span><span class="p">,</span>
                    <span class="n">help</span><span class="o">=</span><span class="s1">&#39;an integer for the accumulator&#39;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;--sum&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s1">&#39;accumulate&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_const&#39;</span><span class="p">,</span>
                    <span class="n">const</span><span class="o">=</span><span class="nb">sum</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="nb">max</span><span class="p">,</span>
                    <span class="n">help</span><span class="o">=</span><span class="s1">&#39;sum the integers (default: find the max)&#39;</span><span class="p">)</span>

<span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">accumulate</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">integers</span><span class="p">))</span>
</code></pre></div>

<p>This example creates a command line tool that takes a list of integers and an optional "--sum" flag. If the "--sum" flag is provided, the tool will sum the integers, otherwise, it will find the max.</p>
<p><a id="integrating-the-model-into-the-command-line-tool"></a></p>
<h2 id="integrating-the-model-into-the-command-line-tool">Integrating the model into the command line tool</h2>
<p>Once you have created the command line interface using argparse, the next step is to integrate the ML model into the tool. This can be done by importing the model and using it to process the input arguments.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">mymodel</span>

<span class="k">def</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">inputs</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">mymodel</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">inputs</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
    <span class="n">process_input</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">inputs</span><span class="p">)</span>
</code></pre></div>

<p>In this example, the <code>mymodel</code> module is imported and its <code>predict</code> function is used to process the inputs passed in through the command line</p>
<p><a id="packaging-the-command-line-tool-as-a-python-pex-file"></a></p>
<h2 id="packaging-the-command-line-tool-as-a-python-pex-file">Packaging the command line tool as a Python PEX file</h2>
<p>Once you have created the command line tool and integrated the ML model, the next step is to package it as a Python PEX (Python executable) file. This can be done using the <a href="https://pex.readthedocs.io/en/stable/">pex</a> library. PEX files are self-contained and do not require a specific environment or dependencies to be installed on the machine, making it easy to distribute and run the tool on different systems. Additionally, PEX files can be optimized for performance and can be signed, which allows users to verify the authenticity of the file.</p>
<p>To create a PEX file, you first need to install the pex library:</p>
<p><code>pip install pex</code></p>
<p>Then, you can use the following command to create a PEX file for your command line tool:</p>
<p><code>pex . -o mytool.pex</code></p>
<p>This will create a PEX file called "mytool.pex" in the current directory, which can be distributed and run on any system with Python installed.</p>
<p><a id="examples-of-command-line-tools-for-ml-models"></a></p>
<h2 id="examples-of-command-line-tools-for-ml-models">Examples of command line tools for ML models</h2>
<p>Here are a few examples of command line tools for ML models:</p>
<ol>
<li>
<p><a href="https://www.tensorflow.org/tfx/serving">TensorFlow Serving</a>: TensorFlow Serving is a flexible, high-performance serving system for machine learning models, designed for production environments. It allows you to easily deploy new versions of your model and roll back to previous versions if needed.</p>
</li>
<li>
<p><a href="https://github.com/jasonbaldridge/keras-cli">Keras-CLI</a>: Keras-CLI is a command line interface for Keras, a popular deep learning framework. It allows you to easily train and evaluate models, and also provides a simple interface for making predictions.</p>
</li>
<li>
<p><a href="https://github.com/sloria/sklearn-cli">Scikit-learn Command Line Interface</a>: sklearn-cli is a command line interface for scikit-learn, a popular machine learning library. It allows you to easily train and evaluate models, and also provides a simple interface for making predictions.</p>
</li>
</ol>
<h2 id="conclusion">Conclusion</h2>
<p>Creating command line tools from ML models is a simple and efficient way to distribute and deploy models. By using <code>argparse</code> and <code>pex</code> libraries, it is easy to create a command line interface and package it in a portable and efficient way. These tools can be integrated into existing systems and workflows, and can be run on a variety of platforms.</p>
<p>up::[[MOC_AI]]
[[model_documentation]]</p>
        </div>


        <div class="article-tags">
            <span class="tags-label">Tags:</span>
                <a href="http://127.0.0.1:8000/tag/machine-learning/" class="article-tag">machine-learning</a>
                <a href="http://127.0.0.1:8000/tag/packaging/" class="article-tag">packaging</a>
                <a href="http://127.0.0.1:8000/tag/deployment/" class="article-tag">deployment</a>
                <a href="http://127.0.0.1:8000/tag/model-delivery/" class="article-tag">model-delivery</a>
                <a href="http://127.0.0.1:8000/tag/cli/" class="article-tag">cli</a>
                <a href="http://127.0.0.1:8000/tag/commandline/" class="article-tag">commandline</a>
        </div>









    </article>

    <footer>
<p>
  &copy; 2026 Krystian Safjan - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/deed.en_US" target="_blank">Creative Commons Attribution-ShareAlike</a>
</p>    </footer>
</main>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Blog",
  "name": "Krystian Safjan's Blog",
  "url": "http://127.0.0.1:8000",
"image": "/images/profile_new.jpg",  "description": ""
}
</script>


<script src="http://127.0.0.1:8000/pagefind/pagefind-ui.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', function() {
        new PagefindUI({
            element: "#search",
            showSubResults: false,
            showImages: false,
            basePath: "http://127.0.0.1:8000/pagefind/"
        });
    });
</script>

<script src="http://127.0.0.1:8000/theme/js/theme-switcher.js"></script>
</body>
</html>