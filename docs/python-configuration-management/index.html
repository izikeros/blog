
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="HandheldFriendly" content="True"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"/>
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap"
              rel="stylesheet">

        <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/stylesheet/style.min.css">



        <link id="pygments-light-theme" rel="stylesheet" type="text/css"
              href="https://www.safjan.com/theme/pygments/github.min.css">


    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/font-awesome/css/fontawesome.css">
    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/font-awesome/css/brands.css">
    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/font-awesome/css/solid.css">

        <link rel="stylesheet" type="text/css"
              href="https://www.safjan.com/styles/custom.css">

        <link href="https://www.safjan.com/feeds/all.atom.xml?utm_source=rss&utm_medium=feed&utm_campaign=rss-feed" type="application/atom+xml" rel="alternate"
              title="Krystian Safjan's Blog Atom">

        <link href="https://www.safjan.com/feeds/all.rss.xml?utm_source=rss&utm_medium=feed&utm_campaign=rss-feed" type="application/rss+xml" rel="alternate"
              title="Krystian Safjan's Blog RSS">


<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RM2PKDCCYM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RM2PKDCCYM');
</script>
<!-- End of Google tag (gtag.js) -->



    <meta name="author" content="Krystian Safjan" />
    <meta name="description" content="None" />
    <meta name="keywords" content="python, configuration, hydra, decouple, omegaconf, yaml, config, experiment, experiment-management">
    <meta expr:content="2022-04-14 00:00:00+02:00" itemprop='datePublished' />
    <meta expr:content="2023-07-12 00:00:00+02:00" itemprop='dateModified' />
    <meta property="article:modified_time" content="2023-07-12 00:00:00+02:00" />
    <meta property="article:published_time" content="2022-04-14 00:00:00+02:00" />
    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Python - Configuration Management",
  "datePublished": "2022-04-14 00:00:00+02:00",
  "dateModified": "2023-07-12 00:00:00+02:00"
}
    </script>
  <meta property="og:site_name" content="Krystian Safjan's Blog"/>
  <meta property="og:title" content="Python - Configuration Management"/>
  <meta property="og:description" content="None"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="https://www.safjan.com/python-configuration-management/"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2022-04-14 00:00:00+02:00"/>
  <meta property="article:modified_time" content="2023-07-12 00:00:00+02:00"/>
  <meta property="article:author" content="https://www.safjan.com/author/krystian-safjan/">
  <meta property="article:section" content="note"/>
  <meta property="article:tag" content="python"/>
  <meta property="article:tag" content="configuration"/>
  <meta property="article:tag" content="hydra"/>
  <meta property="article:tag" content="decouple"/>
  <meta property="article:tag" content="omegaconf"/>
  <meta property="article:tag" content="yaml"/>
  <meta property="article:tag" content="config"/>
  <meta property="article:tag" content="experiment"/>
  <meta property="article:tag" content="experiment-management"/>
  <meta property="og:image" content="/images/profile_new.jpg">

    <meta name="twitter:card" content="summary"/>

    <meta property="twitter:image" content="/images/profile_new.jpg">


    <meta name="twitter:site" content="@izikeros"/>
    <meta name="twitter:creator" content="@izikeros"/>
    <meta name="twitter:description" content="None"/>
    <meta name="twitter:title" content="Python - Configuration Management"/>

    <title>Python - Configuration Management</title>



<!-- Google Automatic Ads -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9767732578835199"
     crossorigin="anonymous"></script>
<!-- End of Google Automatic Ads -->


</head>
<body class="light-theme">
<aside>
    <div>
        <a href="https://www.safjan.com/">
                <img src="/images/profile_new.jpg" alt="Krystian Safjan's Blog" title="Krystian Safjan's Blog" width="140" height="140">
        </a>

        <h1>
            <a href="https://www.safjan.com/">Krystian Safjan's Blog</a>
        </h1>

<p>Data Scientist | Researcher | Team Leader<br><br> working at Ernst &amp; Young and writing about <a href="/category/machine-learning.html">Data Science and Visualization</a>, on <a href="/category/machine-learning.html">Machine Learning, Deep Learning</a> and <a href="/tag/nlp/">NLP</a>. There are also some <a href="/category/howto.html">howto</a> posts on tools and workflows.</p>


        <ul class="social">
                <li>
                    <a  class="sc-linkedin" href="https://pl.linkedin.com/in/krystiansafjan"
                       target="_blank">
                        <i class="fab fa-linkedin"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-github" href="https://github.com/izikeros"
                       target="_blank">
                        <i class="fab fa-github"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-envelope" href="mailto:ksafjan@gmail.com"
                       target="_blank">
                        <i class="fas fa-envelope"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-graduation-cap" href="https://scholar.google.pl/citations?user=UlNJgMoAAAAJ"
                       target="_blank">
                        <i class="fas fa-graduation-cap"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-rss" href="/feeds/all.rss.xml"
                       target="_blank">
                        <i class="fas fa-rss"></i>
                    </a>
                </li>
        </ul>
    </div>

<style>
    .button {
        background-color: yellow;
        color: black;
        border: none;
        padding: 10px 20px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        cursor: pointer;
        border-radius: 20px;
    }

    .center {
        text-align: center;
    }

    .container {
        display: grid;
        grid-template-columns: 1fr 1fr;
    }

    .left-col {
    }

    .right-col {
    }

    .image {
        border-radius: 0;
        width: 100%;
    }

    .book-list {
        padding-top:0;
        padding-bottom: 0;
        text-align:left;
        box-sizing: border-box;
        display: block;
        list-style-image: url(/images/shortcode-tick.webp);
        margin-block-start: 1em;
        margin-block-end: 1em;
        margin-inline-start:0;
        margin-inline-end:0;
        padding-inline-start:40px;
    }

    .book-list li {
        font-weight: bold;
    }

    @media (max-width: 600px) {
        .container {
            grid-template-columns: 1fr;
        }
    }

</style>
<div class="container">
    <div class="left-col">
        <a href="https://ksafjanuser.gumroad.com/l/mlops">
            <img src="/images/mlop_interview_book_cover_3D_300px.jpg" class="image" alt="Interview Book Cover">
        </a>

        <div class="center">
            <a href="https://ksafjanuser.gumroad.com/l/mlops">
                <button class="button">Get for $2.99</button>
            </a>
        </div>
    </div>
    <div class="right-col">
        <div>
            <ul class="book-list">
                <li>PDF, ePUB, mobi format ebook, no DRM</li>
                <li>50 questions and answers</li>
                <li>Stories from real projects</li>
                <li>92 multiple choice quiz questions</li>
                <li>80 pages</li>
            </ul>
        </div>
    </div>
</div>
</aside>
<main>

        <nav>
            <a href="https://www.safjan.com/">Home</a>

                <a href="/archives.html">Articles</a>
                <a href="/til.html">Notes</a>
                <a href="/categories.html">Categories</a>
                <a href="/pdfs/Krystian_Safjan_resume_priv.pdf">Resume</a>

                <a href="https://www.safjan.com/feeds/all.atom.xml">Atom</a>

                <a href="https://www.safjan.com/feeds/all.rss.xml">RSS</a>
        </nav>

    <article class="single">
        <header>
                
            <p>
                <!-- Posted on: -->
                2022-04-14 
                    <span id="post-share-links">
                        &nbsp;&nbsp;&nbsp;Share on:
                        <a href="https://twitter.com/intent/tweet?text=Python%20-%20Configuration%20Management&url=https%3A//www.safjan.com/python-configuration-management/&via=izikeros&hashtags=python,configuration,hydra,decouple,omegaconf,yaml,config,experiment,experiment-management"
                           target="_blank"
                           title="Share on Twitter">Twitter</a>
                        |
                        <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A//www.safjan.com/python-configuration-management/"
                           target="_blank"
                           title="Share on Facebook">Facebook</a>
                        |
                        <a href="https://news.ycombinator.com/submitlink?t=Python%20-%20Configuration%20Management&u=https%3A//www.safjan.com/python-configuration-management/"
                           target="_blank"
                           title="Share on HackerNews">HackerNews</a>
                        |
                        <a href="https://www.reddit.com/submit?url=https%3A//www.safjan.com/python-configuration-management/&title=Python%20-%20Configuration%20Management"
                           target="_blank"
                           title="Share via Reddit">Reddit</a>
                    </span>
                <br />
            </p>
            <h1 id="python-configuration-management">Python - Configuration Management</h1>
            <div class="header-underline"></div>
        </header>
        <div><p>One of the key aspects of any Python project is managing configurations, which can become complex and difficult to manage as the project grows. In this blog post, we will take a look at three popular packages for managing configurations in Python: hydra, decouple, omegaconf and others. We will explore the features and capabilities of each package, and provide examples of how to use them in a Python project. By the end of this post, you will have a better understanding of how to manage configurations in Python and be able to choose the package that best fits your needs.</p>
<!-- MarkdownTOC levels='2,3' autolink=True autoanchor=True -->

<ul>
<li><a href="#hydra">hydra</a></li>
<li><a href="#decouple">decouple</a></li>
<li><a href="#omegaconf">omegaconf</a></li>
<li><a href="#upsilonconf">Upsilonconf</a></li>
<li><a href="#ml_collections">ml_collections</a></li>
<li><a href="#features">Features</a></li>
<li><a href="#basic-usage-of-ml_collections">Basic Usage of ml_collections</a></li>
<li><a href="#pydantic">Pydantic</a></li>
<li><a href="#honorable-mentions">Honorable mentions</a></li>
<li><a href="#dynaconf">Dynaconf</a></li>
<li><a href="#configparser">ConfigParser</a></li>
<li><a href="#cerberus">Cerberus</a></li>
</ul>
<!-- /MarkdownTOC -->

<p><a id="hydra"></a></p>
<h2>hydra</h2>
<p><a href="https://hydra.cc/">Hydra</a> is a Python library that allows you to access parameters from a configuration file inside a Python script.</p>
<p>Features:</p>
<ul>
<li>composite configs</li>
<li>various options for launching:<ul>
<li>easy config modifications from cli</li>
<li>multiruns</li>
</ul>
</li>
<li>CLI: completion for model parameters</li>
</ul>
<p>Create exemplary <code>main.yaml</code> in directory <code>config</code></p>
<div class="highlight"><pre><span></span><code><span class="nt">raw</span><span class="p">:</span><span class="w"> </span>
<span class="w">  </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data/raw/sample.csv</span>

<span class="nt">processed</span><span class="p">:</span>
<span class="w">  </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data/processed/processed.csv</span>

<span class="nt">final</span><span class="p">:</span>
<span class="w">  </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data/final/final.csv</span>
</code></pre></div>

<p>then we can access the value inside the configuration file by adding the decorator <code>@hydra.main</code> on a specific function. Inside this function, we can access the value under <code>processed</code> and <code>path</code> by using a dot notation: <code>config.processed.path</code> .</p>
<div class="highlight"><pre><span></span><code><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">This is the demo code that uses hydra to access the parameters in under the directory config.</span>
<span class="sd">Author: Khuyen Tran</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">hydra</span>
<span class="kn">from</span> <span class="nn">omegaconf</span> <span class="kn">import</span> <span class="n">DictConfig</span>
<span class="kn">from</span> <span class="nn">hydra.utils</span> <span class="kn">import</span> <span class="n">to_absolute_path</span> <span class="k">as</span> <span class="n">abspath</span>

<span class="nd">@hydra</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">config_path</span><span class="o">=</span><span class="s2">&quot;../config&quot;</span><span class="p">,</span> <span class="n">config_name</span><span class="o">=</span><span class="s1">&#39;main&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">process_data</span><span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="n">DictConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Function to process the data&quot;&quot;&quot;</span>

    <span class="n">raw_path</span> <span class="o">=</span> <span class="n">abspath</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">raw</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Process data using </span><span class="si">{</span><span class="n">raw_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Columns used: </span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">process</span><span class="o">.</span><span class="n">use_columns</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">process_data</span><span class="p">()</span>
</code></pre></div>

<p>From: <a href="https://towardsdatascience.com/how-to-structure-a-data-science-project-for-readability-and-transparency-360c6716800">https://towardsdatascience.com/how-to-structure-a-data-science-project-for-readability-and-transparency-360c6716800</a></p>
<p>EuroPython 2022 conference talk about Hydra and integration with MLFlow:</p>
<div class="highlight"><pre><span></span><code>https://www.youtube.com/watch?v=bNGu8A6F3-8
</code></pre></div>

<p>Hands-on tutorial how to introduce hydra to the exemplary data science project:</p>
<div class="highlight"><pre><span></span><code>https://www.youtube.com/watch?v=tEsPyYnzt8s
</code></pre></div>

<p><a id="decouple"></a></p>
<h2>decouple</h2>
<blockquote>
<p>Python Decouple: Strict separation of settings from code</p>
</blockquote>
<p><a href="https://pypi.org/project/python-decouple/">Decouple</a> helps you to organize your settings so that you can change parameters without having to redeploy your app.</p>
<p>It also makes it easy for you to:</p>
<ul>
<li>store <strong>parameters in</strong> <strong>ini</strong> or <strong>.env</strong> files;</li>
<li>define comprehensive <strong>default values</strong>;</li>
<li>properly <strong>convert values to the correct data type</strong>;</li>
<li>have only <strong>one configuration module</strong> to rule <strong>all your instances</strong>.</li>
</ul>
<p>Envvars works, but since <code>os.environ</code> only returns strings, itâ€™s tricky.</p>
<p>Letâ€™s say you have an envvar <code>DEBUG=False</code>. If you run:</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;DEBUG&#39;</span><span class="p">]:</span>
    <span class="nb">print</span> <span class="kc">True</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span> <span class="kc">False</span>
</code></pre></div>

<p>It will print <code>True</code>, because <code>os.environ['DEBUG']</code> returns the string "False". Since itâ€™s a non-empty string, it will be evaluated as True.</p>
<p>Decouple provides a solution that doesnâ€™t look like a workaround: <code>config('DEBUG', cast=bool)</code>.</p>
<p>From: package description on pypi</p>
<blockquote>
<p><strong>NOTE:</strong> Since <code>config</code> can read parameters from .env (and .ini) - decouple can replace using dotenv.</p>
</blockquote>
<p><a id="omegaconf"></a></p>
<h2>omegaconf</h2>
<p><a href="https://github.com/omry/omegaconf">OmegaConf</a> is a hierarchical configuration system, with support for merging configurations from multiple sources (YAML config files, dataclasses/objects and CLI arguments) providing a consistent API regardless of how the configuration was created.</p>
<blockquote>
<p>OmegaConf is also the backbone for the more advancedÂ <a href="https://hydra.cc/">Hydra</a>Â framework.</p>
</blockquote>
<p>Documentation v2.2: <a href="https://omegaconf.readthedocs.io/en/2.2_branch/usage.html">Installation - OmegaConf 2.2.4.dev0 documentation</a></p>
<p><a id="upsilonconf"></a></p>
<h2>Upsilonconf</h2>
<p><img alt="github stars shield" src="https://img.shields.io/github/stars/hoedt/upsilonconf.svg?logo=github">
Concretely, the idea of <a href="https://github.com/hoedt/upsilonconf">upsilonconf</a> library is to provide an alternative to OmegaConf without the overhead of the variable interpolation (especially theÂ <code>antlr</code>Â dependency). It is also very similar to the (discontinued)Â <a href="https://github.com/bcj/AttrDict">AttrDict</a>Â library. In the meantime, there is also theÂ <a href="https://github.com/google/ml_collections">ml_collections</a>Â library, which seems to build on similar ideas as this project.</p>
<p><a id="ml_collections"></a></p>
<h2>ml_collections</h2>
<p><a href="https://github.com/google/ml_collections">google/ml_collections</a>
ML Collections is a library of Python Collections designed for ML use cases.
The two classes calledÂ <code>ConfigDict</code>Â andÂ <code>FrozenConfigDict</code>Â are "dict-like" data structures with dot access to nested elements. Together, they are supposed to be used as a main way of expressing configurations of experiments and models.</p>
<p><a id="features"></a></p>
<h3>Features</h3>
<ul>
<li>Dot-based access to fields.</li>
<li>Locking mechanism to prevent spelling mistakes.</li>
<li>Lazy computation.</li>
<li>FrozenConfigDict() class which is immutable and hashable.</li>
<li>Type safety.</li>
<li>"Did you mean" functionality.</li>
<li>Human readable printing (with valid references and cycles), using valid YAML format.</li>
<li>Fields can be passed as keyword arguments using theÂ <code>**</code>Â operator.</li>
<li>There is one exception to the strong type-safety of the ConfigDict:Â <code>int</code>Â values can be passed in to fields of typeÂ <code>float</code>. In such a case, the value is type-converted to aÂ <code>float</code>Â before being stored. (Back in the day of Python 2, there was a similar exception to allow bothÂ <code>str</code>Â andÂ <code>unicode</code>Â values in string fields.)</li>
</ul>
<p><a id="basic-usage-of-ml_collections"></a></p>
<h3>Basic Usage of ml_collections</h3>
<p>(from  documentation)</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">ml_collections</span> <span class="kn">import</span> <span class="n">config_dict</span>

<span class="n">cfg</span> <span class="o">=</span> <span class="n">config_dict</span><span class="o">.</span><span class="n">ConfigDict</span><span class="p">()</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">float_field</span> <span class="o">=</span> <span class="mf">12.6</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">integer_field</span> <span class="o">=</span> <span class="mi">123</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">another_integer_field</span> <span class="o">=</span> <span class="mi">234</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">nested</span> <span class="o">=</span> <span class="n">config_dict</span><span class="o">.</span><span class="n">ConfigDict</span><span class="p">()</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">nested</span><span class="o">.</span><span class="n">string_field</span> <span class="o">=</span> <span class="s1">&#39;tom&#39;</span>

<span class="nb">print</span><span class="p">(</span><span class="n">cfg</span><span class="o">.</span><span class="n">integer_field</span><span class="p">)</span>  <span class="c1"># Prints 123.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="s1">&#39;integer_field&#39;</span><span class="p">])</span>  <span class="c1"># Prints 123 as well.</span>

<span class="k">try</span><span class="p">:</span>
  <span class="n">cfg</span><span class="o">.</span><span class="n">integer_field</span> <span class="o">=</span> <span class="s1">&#39;tom&#39;</span>  <span class="c1"># Raises TypeError as this field is an integer.</span>
<span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
  <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>

<span class="n">cfg</span><span class="o">.</span><span class="n">float_field</span> <span class="o">=</span> <span class="mi">12</span>  <span class="c1"># Works: `Int` types can be assigned to `Float`.</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">nested</span><span class="o">.</span><span class="n">string_field</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;bob&#39;</span>  <span class="c1"># `String` fields can store Unicode strings.</span>

<span class="nb">print</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
</code></pre></div>

<p><a id="pydantic"></a></p>
<h2>Pydantic</h2>
<p>The core is based on <em>pydantic</em>, a data validation library for Python.  </p>
<p>More precisely, on their <em>BaseSettings</em> class.  </p>
<p>ğ—ªğ—µğ˜† ğ˜‚ğ˜€ğ—² ğ˜ğ—µğ—² ğ—½ğ˜†ğ—±ğ—®ğ—»ğ˜ğ—¶ğ—° ğ—•ğ—®ğ˜€ğ—²ğ—¦ğ—²ğ˜ğ˜ğ—¶ğ—»ğ—´ğ˜€ ğ—°ğ—¹ğ—®ğ˜€ğ˜€?  </p>
<ul>
<li>you can quickly load values from .ğ˜¦ğ˜¯ğ˜· files (or even ğ˜‘ğ˜šğ˜–ğ˜• or ğ˜ ğ˜ˆğ˜”ğ˜“)  </li>
<li>add default values for the configuration of your application  </li>
<li>the MOST IMPORTANT one â†’ It validates the type of the loaded variables. Thus, you will always be ensured you use the correct variables to configure your system.  </li>
</ul>
<p>ğ—›ğ—¼ğ˜„ ğ—±ğ—¼ ğ˜†ğ—¼ğ˜‚ ğ—¶ğ—ºğ—½ğ—¹ğ—²ğ—ºğ—²ğ—»ğ˜ ğ—¶ğ˜?  </p>
<p>It is pretty straightforward.  </p>
<p>You subclass the ğ˜‰ğ˜¢ğ˜´ğ˜¦ğ˜šğ˜¦ğ˜µğ˜µğ˜ªğ˜¯ğ˜¨ğ˜´ class and define all your settings at the class level.  </p>
<p>It is similar to a Python ğ˜¥ğ˜¢ğ˜µğ˜¢ğ˜¤ğ˜­ğ˜¢ğ˜´ğ˜´ but with an extra layer of data validation and factory methods.  </p>
<p>If you assign a value to the variable, it makes it optional.  </p>
<p>If you leave it empty, providing it in your .ğ™šğ™£ğ™« file is mandatory.  </p>
<p>ğ—›ğ—¼ğ˜„ ğ—±ğ—¼ ğ˜†ğ—¼ğ˜‚ ğ—¶ğ—»ğ˜ğ—²ğ—´ğ—¿ğ—®ğ˜ğ—² ğ—¶ğ˜ ğ˜„ğ—¶ğ˜ğ—µ ğ˜†ğ—¼ğ˜‚ğ—¿ ğ— ğ—Ÿ ğ—°ğ—¼ğ—±ğ—²?  </p>
<p>You often have a training configuration file (or inference) into a JSON or YAML file (I prefer YAML files as they are easier to read).  </p>
<p>You shouldn't pollute your ğ˜±ğ˜ºğ˜¥ğ˜¢ğ˜¯ğ˜µğ˜ªğ˜¤ settings class with all the hyperparameters related to the module (as they are a lot, A LOT).  </p>
<p>Also, to isolate the application &amp; ML settings, the easiest way is to add the ğ˜µğ˜³ğ˜¢ğ˜ªğ˜¯ğ˜ªğ˜¯ğ˜¨_ğ˜¤ğ˜°ğ˜¯ğ˜§ğ˜ªğ˜¨_ğ˜±ğ˜¢ğ˜µğ˜© in your settings and use a ğ˜›ğ˜³ğ˜¢ğ˜ªğ˜¯ğ˜ªğ˜¯ğ˜¨ğ˜Šğ˜°ğ˜¯ğ˜§ğ˜ªğ˜¨ class to load it independently.  </p>
<p>Doing so lets you leverage your favorite way (probably the one you already have in your ML code) of loading a config file for the ML configuration: plain YAML or JSON files, hydra, or other fancier methods.  </p>
<p>Another plus is that you can't hardcode the path anywhere on your system. That is a nightmare when you start using git with multiple people.  </p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pydantic_settings</span> <span class="kn">import</span> <span class="n">BaseSettings</span><span class="p">,</span> <span class="n">SettingsConfigDict</span>

<span class="k">class</span> <span class="nc">AppSettings</span><span class="p">(</span><span class="n">BaseSettings</span><span class="p">):</span>
    <span class="n">model_config</span> <span class="o">=</span> <span class="n">SettingsConfigDict</span><span class="p">(</span><span class="n">env_file</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;.env&quot;</span><span class="p">,</span> <span class="s2">&quot;.env.prod&quot;</span><span class="p">))</span>

    <span class="n">QDRANT_URL</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="err">â€œ</span><span class="n">localhost</span><span class="p">:</span><span class="mi">6333</span><span class="s2">&quot;</span>
    <span class="n">QDRANT_API_KEY</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">VECTOR_DB_COLLECTION</span><span class="p">:</span> <span class="nb">str</span> <span class="c1"># Mandatory</span>

    <span class="n">training_config_path</span><span class="p">:</span> <span class="n">Path</span> <span class="c1"># Mandatory</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="n">env_file</span> <span class="o">=</span> <span class="s2">&quot;.env&quot;</span>

<span class="n">settings</span> <span class="o">=</span> <span class="n">AppSettings</span><span class="p">(</span> <span class="p">)</span>

<span class="n">training_config</span> <span class="o">=</span> <span class="n">TrainingConfig</span><span class="o">.</span><span class="n">from_yaml</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">training_config_path</span><span class="p">)</span>
</code></pre></div>

<h2>Honorable mentions</h2>
<p>Modern Python solutions for managing configurations include:  </p>
<h3>Dynaconf</h3>
<p>Dynaconf is a powerful settings management library that supports multiple file formats (JSON, YAML, TOML, INI) and environment variables.
It allows hierarchical settings and dynamic loading of configurations.</p>
<h3>ConfigParser</h3>
<p>Part of the Python standard library, ConfigParser is used for handling configuration files in INI format.
It is simple and lightweight, suitable for basic configuration needs.</p>
<h3>Cerberus</h3>
<p>Cerberus is a lightweight and extensible data validation library for Python.
It can be used to validate configuration data against a schema.</p></div>
        <div class="tag-cloud">
            <p>
                    <br />
                    <br />
                    Tags:&nbsp;
<a href="https://www.safjan.com/tag/python/">python</a><a href="https://www.safjan.com/tag/configuration/">configuration</a><a href="https://www.safjan.com/tag/hydra/">hydra</a><a href="https://www.safjan.com/tag/decouple/">decouple</a><a href="https://www.safjan.com/tag/omegaconf/">omegaconf</a><a href="https://www.safjan.com/tag/yaml/">yaml</a><a href="https://www.safjan.com/tag/config/">config</a><a href="https://www.safjan.com/tag/experiment/">experiment</a><a href="https://www.safjan.com/tag/experiment-management/">experiment-management</a>            </p>
        </div>
            <div class="related-posts">
                <h4>You might enjoy</h4>
                <ul class="related-posts">
                        <li>
                            <a href="https://www.safjan.com/use-decouple-with-pydantic-or-python-dataclass-to-manage-configuration-in-py/">Use Decouple With Pydantic or Python Dataclass to Manage Configuration in Python App</a>
                        </li>
                        <li>
                            <a href="https://www.safjan.com/python-packages-yaml-front-matter-markdown/">Exploring Python Packages for Loading and Processing YAML Front Matter in Markdown Documents</a>
                        </li>
                        <li>
                            <a href="https://www.safjan.com/evolution-of-type-hints-in-python/">Evolution of Type Hints in Python â€” From Comments to Inline Typing and Beyond</a>
                        </li>
                        <li>
                            <a href="https://www.safjan.com/bare-asterisk-in-python-function-signatures/">Bare Asterisk in Python Function Signatures - Keyword Only Arguments</a>
                        </li>
                        <li>
                            <a href="https://www.safjan.com/concurrent-futures-simpler-parallelism/">Simpler Parallelism with concurrent.futures</a>
                        </li>
                </ul>
            </div>
    </article>

    <footer>
<p>
  &copy; 2025 Krystian Safjan - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/deed.en_US" target="_blank">Creative Commons Attribution-ShareAlike</a>
</p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p><p>
  <a rel="license"
     href="http://creativecommons.org/licenses/by-sa/4.0/"
     target="_blank">
    <img alt="Creative Commons License"
         title="Creative Commons License"
         style="border-width:0"
           src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"
         width="80"
         height="15"/>
  </a>
</p>    </footer>
</main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Krystian Safjan's Blog ",
  "url" : "https://www.safjan.com",
  "image": "/images/profile_new.jpg",
  "description": ""
}
</script>

</body>
</html>