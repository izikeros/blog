
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="color-scheme" content="light dark"/>
    <script>
      (function() {
        var theme = localStorage.getItem('theme-preference');
        if (theme === 'dark' || theme === 'light') {
          document.documentElement.setAttribute('data-theme', theme);
        }
      })();
    </script>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="HandheldFriendly" content="True"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"/>
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap"
              rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/stylesheet/style.css">


    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/pygments/github.min.css">


    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/font-awesome/css/fontawesome.css">
    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/font-awesome/css/brands.css">
    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/font-awesome/css/solid.css">

    <link rel="stylesheet" href="https://www.safjan.com/pagefind/pagefind-ui.css">

        <link rel="stylesheet" type="text/css"
              href="https://www.safjan.com/styles/custom.css">

        <link href="https://www.safjan.com/feeds/all.atom.xml?utm_source=rss&utm_medium=feed&utm_campaign=rss-feed" type="application/atom+xml" rel="alternate"
              title="Krystian Safjan's Blog Atom">

        <link href="https://www.safjan.com/feeds/all.rss.xml?utm_source=rss&utm_medium=feed&utm_campaign=rss-feed" type="application/rss+xml" rel="alternate"
              title="Krystian Safjan's Blog RSS">


<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RM2PKDCCYM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RM2PKDCCYM');
</script>
<!-- End of Google tag (gtag.js) -->



    <meta name="author" content="Krystian Safjan"/>
    <meta name="description" content="Usage Using with PyCharm Installing Python with tkinter Install with optimizations Python is a popular programming language used for a wide range of applications, from web development to data analysis and machine learning. As a Python developer, it is important to manage …"/>
    <meta name="keywords" content="macos, pyenv, python, pipx, pycharm, tkinter, optimizations, archflag">


  <meta property="og:site_name" content="Krystian Safjan's Blog"/>
  <meta property="og:title" content="Using Pyenv"/>
  <meta property="og:description" content="Usage Using with PyCharm Installing Python with tkinter Install with optimizations Python is a popular programming language used for a wide range of applications, from web development to data analysis and machine learning. As a Python developer, it is important to manage …"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="https://www.safjan.com/using-pyenv/"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2022-05-12 00:00:00+02:00"/>
  <meta property="article:modified_time" content="2024-12-18 00:00:00+01:00"/>
  <meta property="article:author" content="https://www.safjan.com/author/krystian-safjan/"/>
  <meta property="article:section" content="note"/>
  <meta property="article:tag" content="macos"/>
  <meta property="article:tag" content="pyenv"/>
  <meta property="article:tag" content="python"/>
  <meta property="article:tag" content="pipx"/>
  <meta property="article:tag" content="pycharm"/>
  <meta property="article:tag" content="tkinter"/>
  <meta property="article:tag" content="optimizations"/>
  <meta property="article:tag" content="archflag"/>
  <meta property="og:image" content="/images/profile_new.jpg"/>
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:image" content="/images/profile_new.jpg"/>
    <meta name="twitter:image:alt" content="Krystian Safjan's Blog"/>


    <meta name="twitter:site" content="@izikeros"/>
    <meta name="twitter:creator" content="@izikeros"/>
    <meta name="twitter:title" content="Using Pyenv"/>
    <meta name="twitter:description" content="Usage Using with PyCharm Installing Python with tkinter Install with optimizations Python is a popular programming language used for a wide range of applications, from web development to data..."/>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.safjan.com/using-pyenv/"
  },
  "headline": "Using Pyenv",
  "datePublished": "2022-05-12T00:00:00+02:00",
  "dateModified": "2024-12-18T00:00:00+01:00",
  "author": {
    "@type": "Person",
    "name": "Krystian Safjan",
    "url": "https://www.safjan.com/author/krystian-safjan/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Krystian Safjan's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "/images/profile_new.jpg"
    }  },
"image": "/images/profile_new.jpg",  "url": "https://www.safjan.com/using-pyenv/",
  "description": "Usage Using with PyCharm Installing Python with tkinter Install with optimizations Python is a popular programming language used for a wide range of..."
}
</script>

    <title>    Using Pyenv
</title>



<!-- Google Automatic Ads -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9767732578835199"
     crossorigin="anonymous"></script>
<!-- End of Google Automatic Ads -->


</head>
<body>
<div id="reading-progress" class="reading-progress"></div>
<aside>
    <div>
        <a href="https://www.safjan.com/">
                <img src="/images/profile_new.jpg" alt="Krystian Safjan's Blog" title="Krystian Safjan's Blog" width="140" height="140">
        </a>

        <h1>
            <a href="https://www.safjan.com/">Krystian Safjan's Blog</a>
        </h1>

<p>Data Scientist and Team Leader writing about Machine Learning, MLOps, and Python</p>


        <ul class="social">
                <li>
                    <a  class="sc-linkedin" href="https://pl.linkedin.com/in/krystiansafjan"
                       target="_blank">
                        <i class="fab fa-linkedin"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-github" href="https://github.com/izikeros"
                       target="_blank">
                        <i class="fab fa-github"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-envelope" href="mailto:ksafjan@gmail.com"
                       target="_blank">
                        <i class="fas fa-envelope"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-graduation-cap" href="https://scholar.google.pl/citations?user=UlNJgMoAAAAJ"
                       target="_blank">
                        <i class="fas fa-graduation-cap"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-rss" href="/feeds/all.rss.xml"
                       target="_blank">
                        <i class="fas fa-rss"></i>
                    </a>
                </li>
        </ul>
    </div>

<div class="promo-box">
    <a href="https://ksafjanuser.gumroad.com/l/mlops" class="promo-box-image">
        <img src="/images/mlop_interview_book_cover_3D_300px.jpg" alt="MLOps Interview Book Cover">
    </a>
    
    <p class="promo-box-headline">Ace Your MLOps Interview</p>
    
    <a href="https://ksafjanuser.gumroad.com/l/mlops" class="promo-box-cta">
        Get for $2.99
    </a>
    
    <p class="promo-box-features">50 Q&A • PDF/ePUB/mobi</p>
</div>
</aside>
<main>

        <nav>
            <a href="https://www.safjan.com/">Home</a>

                <a href="/archives.html">Articles</a>
                <a href="/til.html">Notes</a>
                <a href="/categories.html">Categories</a>
                <a href="/pdfs/Krystian_Safjan_resume_priv.pdf">Resume</a>

                <a href="https://www.safjan.com/feeds/all.atom.xml">Atom</a>

                <a href="https://www.safjan.com/feeds/all.rss.xml">RSS</a>

            <div id="search" class="nav-search"></div>
            <button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme">
                <i class="fas fa-sun"></i>
                <i class="fas fa-moon"></i>
            </button>
        </nav>

    <article class="single">
        <header>
                
            <p>
                <!-- Posted on: -->
                2022-05-12 


                <br/>
            </p>
            <h1 id="using-pyenv">Using Pyenv</h1>
            <div class="header-underline"></div>



        </header>



        <details class="toc-details" id="toc-container">
            <summary>Table of Contents</summary>
            <nav class="toc" aria-label="Table of Contents">
                <ul class="toc-list"></ul>
            </nav>
        </details>

        <div class="article-content">
            <!-- MarkdownTOC levels="2,3" autolink="true" autoanchor="true" -->

<ul>
<li><a href="#usage">Usage</a></li>
<li><a href="#using-with-pycharm">Using with PyCharm</a></li>
<li><a href="#installing-python-with-tkinter">Installing Python with tkinter</a></li>
<li><a href="#install-with-optimizations">Install with optimizations</a></li>
</ul>
<!-- /MarkdownTOC -->

<p>Python is a popular programming language used for a wide range of applications, from web development to data analysis and machine learning. As a Python developer, it is important to manage your Python installations properly to avoid conflicts and ensure consistent behavior across different projects. One tool that can help with this is pyenv, a simple and powerful Python version management tool.</p>
<p>Pyenv is particularly useful for macOS users, as it allows you to easily install and manage multiple versions of Python on your system without affecting the system Python that comes with macOS. This is important because some macOS applications and scripts rely on the system Python, and modifying or replacing it can cause unexpected issues.</p>
<p>To get started with pyenv on macOS, you can use Homebrew, a popular package manager for macOS. Open your terminal and run the following command:</p>
<div class="highlight"><pre><span></span><code>brew<span class="w"> </span>install<span class="w"> </span>pyenv
</code></pre></div>

<p>This will install pyenv and its dependencies on your system. Once installed, you need to add some configuration to your shell startup script (.bashrc, .zshrc, etc.) to enable pyenv. Add the following lines to the end of your shell startup script:</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="nb">command</span><span class="w"> </span>-v<span class="w"> </span>pyenv<span class="w"> </span><span class="m">1</span>&gt;/dev/null<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">  </span><span class="nb">eval</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>pyenv<span class="w"> </span>init<span class="w"> </span>-<span class="k">)</span><span class="s2">&quot;</span>
<span class="k">fi</span>
</code></pre></div>

<p>This tells your shell to initialize pyenv when you start a new shell session. You can then use pyenv to manage your Python installations.</p>
<p><a id="usage"></a></p>
<h2 id="usage">Usage</h2>
<p>Here are some common pyenv commands:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># list python versions available for installation</span>
$<span class="w"> </span>pyenv<span class="w"> </span>install<span class="w"> </span>-l

<span class="c1"># list python versions available for installation, filter results to given version of python</span>
$<span class="w"> </span>pyenv<span class="w"> </span>install<span class="w"> </span>-l<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="m">3</span>.11

<span class="c1"># remove other versions of python than main (e.g. exclude pypy, conda,...)</span>
<span class="c1"># and filter results to given version of python</span>
$<span class="w"> </span>pyenv<span class="w"> </span>install<span class="w"> </span>-l<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-E<span class="w"> </span><span class="s1">&#39;^[[:space:]]*[0-9]&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="m">3</span>.11

<span class="c1"># install selected version</span>
$<span class="w"> </span>pyenv<span class="w"> </span>install<span class="w"> </span><span class="m">3</span>.8.5

<span class="c1"># display all currently installed Python versions</span>
$<span class="w"> </span>pyenv<span class="w"> </span>versions

<span class="c1"># create virtualenv `myenv` with default pyenv python version (see )</span>
$<span class="w"> </span>pyenv<span class="w"> </span>virtualenv<span class="w"> </span>myenv

<span class="c1"># set as global interpreter for the system</span>
$<span class="w"> </span>pyenv<span class="w"> </span>global<span class="w"> </span><span class="m">3</span>.11.7

<span class="c1"># uninstall selected version</span>
$<span class="w"> </span>pyenv<span class="w"> </span>uninstall<span class="w"> </span><span class="m">3</span>.8.4

<span class="c1"># check the path to where virtualenv is created</span>
$<span class="w"> </span>pyenv<span class="w"> </span>activate<span class="w"> </span>myenv
$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$VIRTUAL_ENV</span>

<span class="c1"># remove pyenv virtualenv</span>
<span class="c1">#   (3.8.2/envs/greenhouse obtained with `pyenv versions`)</span>
$<span class="w"> </span>pyenv<span class="w"> </span>uninstall<span class="w"> </span><span class="m">3</span>.8.2/envs/greenhouse
<span class="c1">#   or</span>
$<span class="w"> </span>pyenv<span class="w"> </span>virtualenv-delete<span class="w"> </span>greenhouse
</code></pre></div>

<p><a id="using-with-pycharm"></a></p>
<h2 id="using-with-pycharm">Using with PyCharm</h2>
<p>You can also use pyenv with PyCharm. To use pyenv with PyCharm, you need to create a virtual environment using pyenv first, and then add it to PyCharm as a local interpreter. Here are the steps:</p>
<ol>
<li>Create a new virtual environment using pyenv: <code>pyenv virtualenv &lt;version&gt; &lt;name&gt;</code></li>
<li>In PyCharm, go to <code>Settings &gt; Project &gt; Python Interpreter</code>.</li>
<li>Click the "Add..." button and select "Local".</li>
<li>Browse to the location of the Python executable in your pyenv virtual environment. It should be something like <code>/Users/username/.pyenv/versions/&lt;version&gt;/envs/&lt;name&gt;/bin/python</code>.</li>
<li>Click "OK" to add the interpreter.</li>
</ol>
<p>You can now use the virtual environment with PyCharm, and any packages you install will be installed in the virtual environment rather than globally on your system.</p>
<p><a id="installing-python-with-tkinter"></a></p>
<h2 id="installing-python-with-tkinter">Installing Python with tkinter</h2>
<p>There is stackoverflow question on that: <a href="https://stackoverflow.com/questions/60469202/unable-to-install-tkinter-with-pyenv-pythons-on-macos">Unable to install tkinter with pyenv Pythons on MacOS - Stack Overflow</a></p>
<p><a id="install-with-optimizations"></a></p>
<h2 id="install-with-optimizations">Install with optimizations</h2>
<p>You can optimize Python installation for your specific machine using pyenv with some specific configuration parameters. Here are some recommended options:</p>
<div class="highlight"><pre><span></span><code><span class="nv">PYTHON_CONFIGURE_OPTS</span><span class="o">=</span><span class="s2">&quot;--enable-optimizations --with-lto&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="nv">PYTHON_CFLAGS</span><span class="o">=</span><span class="s2">&quot;-march=native -mtune=native&quot;</span><span class="w"> </span><span class="se">\</span>
pyenv<span class="w"> </span>install<span class="w"> </span><span class="m">3</span>.11.7
</code></pre></div>

<ol>
<li><code>--enable-optimizations</code>: Enables Link Time Optimization (LTO) and profile-guided optimization</li>
<li><code>--with-lto</code>: Adds Link Time Optimization</li>
<li><code>-march=native</code>: Compiles with instructions specific to your exact CPU</li>
<li><code>-mtune=native</code>: Optimizes code generation for your specific processor</li>
</ol>
<p>If you want even more control, you can use <code>ARCHFLAGS</code> to specify architecture:
- For Apple Silicon (M1/M2): <code>ARCHFLAGS="-arch arm64"</code>
- For Intel: <code>ARCHFLAGS="-arch x86_64"</code></p>
<p><strong>Edits:</strong></p>
<ul>
<li>2024-12-18: Added note on optimizations</li>
</ul>
<p>See also:
X::[[macos_wiki_v2]]
X::[[install_global_packages_with_pipx]]</p>
        </div>


        <div class="article-tags">
            <span class="tags-label">Tags:</span>
                <a href="https://www.safjan.com/tag/macos/" class="article-tag">macos</a>
                <a href="https://www.safjan.com/tag/pyenv/" class="article-tag">pyenv</a>
                <a href="https://www.safjan.com/tag/python/" class="article-tag">python</a>
                <a href="https://www.safjan.com/tag/pipx/" class="article-tag">pipx</a>
                <a href="https://www.safjan.com/tag/pycharm/" class="article-tag">pycharm</a>
                <a href="https://www.safjan.com/tag/tkinter/" class="article-tag">tkinter</a>
                <a href="https://www.safjan.com/tag/optimizations/" class="article-tag">optimizations</a>
                <a href="https://www.safjan.com/tag/archflag/" class="article-tag">archflag</a>
        </div>









    </article>

    <footer>
<p>
  &copy; 2026 Krystian Safjan - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/deed.en_US" target="_blank">Creative Commons Attribution-ShareAlike</a>
</p>    </footer>
</main>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Blog",
  "name": "Krystian Safjan's Blog",
  "url": "https://www.safjan.com",
"image": "/images/profile_new.jpg",  "description": ""
}
</script>


<script src="https://www.safjan.com/pagefind/pagefind-ui.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', function() {
        new PagefindUI({
            element: "#search",
            showSubResults: false,
            showImages: false,
            basePath: "https://www.safjan.com/pagefind/"
        });
    });
</script>

<script src="https://www.safjan.com/theme/js/theme-switcher.js"></script>
</body>
</html>