
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="color-scheme" content="light dark"/>
    <script>
      (function() {
        var theme = localStorage.getItem('theme-preference');
        if (theme === 'dark' || theme === 'light') {
          document.documentElement.setAttribute('data-theme', theme);
        }
      })();
    </script>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="HandheldFriendly" content="True"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"/>
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap"
              rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/stylesheet/style.css">


    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/pygments/github.min.css">


    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/font-awesome/css/fontawesome.css">
    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/font-awesome/css/brands.css">
    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/font-awesome/css/solid.css">

    <link rel="stylesheet" href="/pagefind/pagefind-ui.css">

        <link rel="stylesheet" type="text/css"
              href="https://www.safjan.com/styles/custom.css">

        <link href="https://www.safjan.com/feeds/all.atom.xml?utm_source=rss&utm_medium=feed&utm_campaign=rss-feed" type="application/atom+xml" rel="alternate"
              title="Krystian Safjan's Blog Atom">

        <link href="https://www.safjan.com/feeds/all.rss.xml?utm_source=rss&utm_medium=feed&utm_campaign=rss-feed" type="application/rss+xml" rel="alternate"
              title="Krystian Safjan's Blog RSS">


    <link rel="apple-touch-icon" sizes="180x180" href="https://www.safjan.com/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://www.safjan.com/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://www.safjan.com/favicon-16x16.png">
    <link rel="shortcut icon" href="https://www.safjan.com/favicon.ico">
    <link rel="manifest" href="https://www.safjan.com/site.webmanifest">
    <meta name="theme-color" content="#333333">
    <meta name="apple-mobile-web-app-title" content="Krystian Safjan's Blog">

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RM2PKDCCYM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RM2PKDCCYM');
</script>
<!-- End of Google tag (gtag.js) -->



    <meta name="author" content="Krystian Safjan"/>
    <meta name="description" content="Get Started with RPC - A Beginner&#39;s Guide to Building a Python RPC Server Using xmlrpc and jsonrpc."/>
    <meta name="keywords" content="python, microservices, communication, rpc, rest, remote-procedure-call, xmlrpc, jsonrpc, distributed-computing, client-server, server, client, SimpleXMLRPCServer, ServerProxy, remote-communication, Flask">


  <meta property="og:site_name" content="Krystian Safjan's Blog"/>
  <meta property="og:title" content="How to Use RPC in Python?"/>
  <meta property="og:description" content="Get Started with RPC - A Beginner&#39;s Guide to Building a Python RPC Server Using xmlrpc and jsonrpc."/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="https://www.safjan.com/how-to-use-rpc-in-python/"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2023-02-13 00:00:00+01:00"/>
  <meta property="article:modified_time" content="2023-02-13 00:00:00+01:00"/>
  <meta property="article:author" content="https://www.safjan.com/author/krystian-safjan/"/>
  <meta property="article:section" content="Howto"/>
  <meta property="article:tag" content="python"/>
  <meta property="article:tag" content="microservices"/>
  <meta property="article:tag" content="communication"/>
  <meta property="article:tag" content="rpc"/>
  <meta property="article:tag" content="rest"/>
  <meta property="article:tag" content="remote-procedure-call"/>
  <meta property="article:tag" content="xmlrpc"/>
  <meta property="article:tag" content="jsonrpc"/>
  <meta property="article:tag" content="distributed-computing"/>
  <meta property="article:tag" content="client-server"/>
  <meta property="article:tag" content="server"/>
  <meta property="article:tag" content="client"/>
  <meta property="article:tag" content="SimpleXMLRPCServer"/>
  <meta property="article:tag" content="ServerProxy"/>
  <meta property="article:tag" content="remote-communication"/>
  <meta property="article:tag" content="Flask"/>
  <meta property="og:image" content="https://www.safjan.com//images/head/rpc_flask.jpg"/>
  <meta property="og:image:width" content="1200"/>
  <meta property="og:image:height" content="630"/>
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:image" content="https://www.safjan.com//images/head/rpc_flask.jpg"/>
    <meta name="twitter:image:alt" content="How to Use RPC in Python?"/>


    <meta name="twitter:site" content="@izikeros"/>
    <meta name="twitter:creator" content="@izikeros"/>
    <meta name="twitter:title" content="How to Use RPC in Python?"/>
    <meta name="twitter:description" content="Get Started with RPC - A Beginner&#39;s Guide to Building a Python RPC Server Using xmlrpc and jsonrpc."/>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.safjan.com/how-to-use-rpc-in-python/"
  },
  "headline": "How to Use RPC in Python?",
  "datePublished": "2023-02-13T00:00:00+01:00",
  "dateModified": "2023-02-13T00:00:00+01:00",
  "author": {
    "@type": "Person",
    "name": "Krystian Safjan",
    "url": "https://www.safjan.com/author/krystian-safjan/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Krystian Safjan's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "/images/profile_new.jpg"
    }  },
"image": "https://www.safjan.com//images/head/rpc_flask.jpg",  "url": "https://www.safjan.com/how-to-use-rpc-in-python/",
  "description": "Get Started with RPC - A Beginner's Guide to Building a Python RPC Server Using xmlrpc and jsonrpc.",
  "articleSection": "Howto",
  "inLanguage": "en",
  "keywords": "python, microservices, communication, rpc, rest, remote-procedure-call, xmlrpc, jsonrpc, distributed-computing, client-server, server, client, SimpleXMLRPCServer, ServerProxy, remote-communication, Flask",
  "wordCount": 812,
  "speakable": {
    "@type": "SpeakableSpecification",
    "cssSelector": ["article h1", ".summary", ".tldr", "article \u003e p:first-of-type"]
  }}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://www.safjan.com/"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Howto",
      "item": "https://www.safjan.com/category/howto.html"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "How to Use RPC in Python?"
    }
  ]
}
</script>



<meta name="ai:summary" content="Get Started with RPC - A Beginner&#39;s Guide to Building a Python RPC Server Using xmlrpc and jsonrpc.">

<meta name="ai:topics" content="python, microservices, communication, rpc, rest, remote-procedure-call, xmlrpc, jsonrpc, distributed-computing, client-server, server, client, SimpleXMLRPCServer, ServerProxy, remote-communication, Flask">



<meta name="ai:word-count" content="812">
<meta name="ai:reading-time" content="4 min">

<meta name="ai:section" content="Howto">



<meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">

    <title>    How to Use RPC in Python?
</title>



<!-- Google Automatic Ads -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9767732578835199"
     crossorigin="anonymous"></script>
<!-- End of Google Automatic Ads -->


</head>
<body>
<div id="reading-progress" class="reading-progress"></div>
<aside>
    <div>
        <a href="https://www.safjan.com/">
                <img src="/images/profile_new.jpg" alt="Krystian Safjan's Blog" title="Krystian Safjan's Blog" width="140" height="140">
        </a>

        <h1>
            <a href="https://www.safjan.com/">Krystian Safjan's Blog</a>
        </h1>

<p>Data Scientist and Team Leader writing about Machine Learning, MLOps, and Python</p>


        <ul class="social">
                <li>
                    <a  class="sc-linkedin" href="https://pl.linkedin.com/in/krystiansafjan"
                       target="_blank">
                        <i class="fab fa-linkedin"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-github" href="https://github.com/izikeros"
                       target="_blank">
                        <i class="fab fa-github"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-envelope" href="mailto:ksafjan@gmail.com"
                       target="_blank">
                        <i class="fas fa-envelope"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-graduation-cap" href="https://scholar.google.pl/citations?user=UlNJgMoAAAAJ"
                       target="_blank">
                        <i class="fas fa-graduation-cap"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-rss" href="/feeds/all.rss.xml"
                       target="_blank">
                        <i class="fas fa-rss"></i>
                    </a>
                </li>
        </ul>
    </div>

<div class="promo-box">
    <a href="https://ksafjanuser.gumroad.com/l/mlops" class="promo-box-image">
        <img src="/images/mlop_interview_book_cover_3D_300px.jpg" alt="MLOps Interview Book Cover">
    </a>
    
    <p class="promo-box-headline">Ace Your MLOps Interview</p>
    
    <a href="https://ksafjanuser.gumroad.com/l/mlops" class="promo-box-cta">
        Get for $2.99
    </a>
    
    <p class="promo-box-features">50 Q&A â€¢ PDF/ePUB/mobi</p>
</div>
</aside>
<main>

        <nav aria-label="Main navigation">
            <a href="https://www.safjan.com/">Home</a>

                <a href="/archives.html">Articles</a>
                <a href="/til.html">Notes</a>
                <a href="/categories.html">Categories</a>
                <a href="/pdfs/Krystian_Safjan_resume_priv.pdf">Resume</a>

                <a href="https://www.safjan.com/feeds/all.atom.xml">Atom</a>

                <a href="https://www.safjan.com/feeds/all.rss.xml">RSS</a>

            <div id="search" class="nav-search"></div>
            <button type="button" id="theme-toggle" class="theme-toggle" aria-label="Toggle theme">
                <i class="fas fa-sun"></i>
                <i class="fas fa-moon"></i>
            </button>
        </nav>

    <article class="single">
        <header>
                
            <p>
                <!-- Posted on: -->
                2023-02-13 


                <br/>
            </p>
            <h1>How to Use RPC in Python?</h1>
            <div class="header-underline"></div>
                <div class="summary"><p>Get Started with RPC - A Beginner's Guide to Building a Python RPC Server Using xmlrpc and jsonrpc.</p></div>

                <div style="width: 100%; padding-bottom: 30px; position: relative;">
                    <a href="https://www.safjan.com/how-to-use-rpc-in-python/">
                        <img style="width: 100%; "
                             src="/images/head/rpc_flask.jpg" alt="How to Use RPC in Python?">
                    </a>
                </div>


        </header>




        <div class="article-content">
            <p><a href="https://en.wikipedia.org/wiki/Remote_procedure_call">Remote Procedure Call (RPC)</a> is a protocol that allows two different processes or applications to communicate with each other across different machines, even if they are using different programming languages. RPC is a popular technique used in distributed computing environments, where applications running on different systems need to communicate with each other to perform a task. In this blog post, we will explore how to use RPC in Python and provide an example of two instances communicating using RPC.</p>
<h2 id="using-rpc-in-python">Using RPC in Python</h2>
<p>Python provides built-in support for RPC through the <a href="https://docs.python.org/3/library/xmlrpc.html">xmlrpc</a> and <a href="https://json-rpc.readthedocs.io/en/latest/">jsonrpc</a> libraries. These libraries allow Python applications to expose their functions as RPC services and also consume RPC services provided by other applications.</p>
<p>To use RPC in Python, you need to create a server that exposes a set of functions or methods that can be invoked by remote clients. You can then use a client application to connect to the server and call these functions remotely.</p>
<h3 id="simple-client-server">Simple client-server</h3>
<h4 id="server">Server</h4>
<p>Let's start with an example of a <strong>simple server</strong> that exposes a function to add two numbers:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">xmlrpc.server</span>

<span class="k">class</span> <span class="nc">MyServer</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

<span class="n">server</span> <span class="o">=</span> <span class="n">xmlrpc</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">SimpleXMLRPCServer</span><span class="p">((</span><span class="s2">&quot;localhost&quot;</span><span class="p">,</span> <span class="mi">8000</span><span class="p">))</span>
<span class="n">server</span><span class="o">.</span><span class="n">register_instance</span><span class="p">(</span><span class="n">MyServer</span><span class="p">())</span>
<span class="n">server</span><span class="o">.</span><span class="n">serve_forever</span><span class="p">()</span>
</code></pre></div>

<p>In the code above, we first define a class called <code>MyServer</code> that exposes a single method called add, which takes two arguments and returns their sum. We then create an instance of the <code>SimpleXMLRPCServer</code> class, passing in the host and port where the server should listen for incoming requests. We register an instance of the <code>MyServer</code> class with the server, which means that any requests received by the server will be forwarded to the methods of the <code>MyServer</code> class. Finally, we call the <code>serve_forever</code> method to start the server and listen for incoming requests.</p>
<h4 id="client">Client</h4>
<p>Now that we have a server running, let's create a <strong>client application</strong> that can connect to the server and call the add method remotely:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">xmlrpc.client</span>

<span class="n">server</span> <span class="o">=</span> <span class="n">xmlrpc</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">ServerProxy</span><span class="p">(</span><span class="s2">&quot;http://localhost:8000&quot;</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">server</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div>

<p>In the code above, we create an instance of the <code>ServerProxy</code> class, passing in the URL of the server we want to connect to. We then call the add method on the server object, passing in the two numbers we want to add. The result of the method call is returned to the client, which we print to the console.</p>
<p>That's it! We have successfully used RPC to call a method on a remote server from a client application.</p>
<h3 id="example-of-two-instances-communicating-using-rpc">Example of Two Instances Communicating Using RPC</h3>
<p>Now let's explore an example of two instances communicating using RPC. In this example, we will create a server application that exposes a set of methods that can be called by a client application. The client application will then call these methods to perform a task.</p>
<p>First, let's create the server application:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">xmlrpc.server</span>

<span class="k">class</span> <span class="nc">MyServer</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">square</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span>

    <span class="k">def</span> <span class="nf">cube</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span>

<span class="n">server</span> <span class="o">=</span> <span class="n">xmlrpc</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">SimpleXMLRPCServer</span><span class="p">((</span><span class="s2">&quot;localhost&quot;</span><span class="p">,</span> <span class="mi">8000</span><span class="p">))</span>
<span class="n">server</span><span class="o">.</span><span class="n">register_instance</span><span class="p">(</span><span class="n">MyServer</span><span class="p">())</span>
<span class="n">server</span><span class="o">.</span><span class="n">serve_forever</span><span class="p">()</span>
</code></pre></div>

<p>In the code above, we create a class called <code>MyServer</code> that exposes two methods, square and cube, which calculate the square and cube of a number respectively. We then create an instance of the <code>SimpleXMLRPCServer</code> class and register an instance of the <code>MyServer</code> class with the server.</p>
<p>Next, let's create the client application:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">xmlrpc.client</span>

<span class="n">server</span> <span class="o">=</span> <span class="n">xmlrpc</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">ServerProxy</span><span class="p">(</span><span class="s2">&quot;http://localhost:8000&quot;</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">server</span><span class="o">.</span><span class="n">square</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The square of 5 is:&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">server</span>
</code></pre></div>

<p>In the client application code above, we create an instance of the <code>ServerProxy</code> class and connect to the server running on localhost at port <code>8000</code>. We then call the square method on the server object, passing in the number <code>5</code>. The result of the method call is returned to the client, which we print to the console. We then call the cube method on the server object, passing in the number <code>3</code>, and print the result to the console.</p>
<p>When we run the client application, we should see the following output:</p>
<div class="highlight"><pre><span></span><code><span class="n">The</span> <span class="n">square</span> <span class="n">of</span> <span class="mi">5</span> <span class="ow">is</span><span class="p">:</span> <span class="mi">25</span>
<span class="n">The</span> <span class="n">cube</span> <span class="n">of</span> <span class="mi">3</span> <span class="ow">is</span><span class="p">:</span> <span class="mi">27</span>
</code></pre></div>

<p>As you can see, we have successfully used RPC to call methods on a remote server from a client application.</p>
<h2 id="conclusion">Conclusion</h2>
<p>RPC is a powerful technique for building distributed applications, and Python provides built-in support for RPC through the xmlrpc and jsonrpc libraries. Using RPC in Python is straightforward and can be done with just a few lines of code. By following the examples provided in this blog post, you should now understand how to use RPC in Python and how to create a server that exposes methods that can be called remotely by a client application.</p>
<p><em>Any comments or suggestions? <a href="mailto:ksafjan@gmail.com?subject=Blog+post">Let me know</a>.</em></p>
<p>You might be interested in reading my <a href="./guide-building-python-rpc-server-using-flask">"Guide to building a Python RPC server using Flask"</a></p>
<h2 id="further-reading">Further Reading</h2>
<ol>
<li>The Python documentation on xmlrpc: <a href="https://docs.python.org/3/library/xmlrpc.html">https://docs.python.org/3/library/xmlrpc.html</a></li>
<li>The Python documentation on jsonrpc:
 <a href="https://json-rpc.readthedocs.io/en/latest/">https://json-rpc.readthedocs.io/en/latest/</a></li>
<li>A tutorial on using XML-RPC in Python: <a href="https://pymotw.com/2/xmlrpc.client/index.html">https://pymotw.com/2/xmlrpc.client/index.html</a></li>
<li>List of material on distributed systems:
 <a href="https://github.com/theanalyst/awesome-distributed-systems">https://github.com/theanalyst/awesome-distributed-systems</a></li>
</ol>
        </div>




            <div class="bibtex-note">
                <p><b>To cite this article:</b></p>
                <pre>@article{Saf2023How,
    author  = {Krystian Safjan},
    title   = {How to Use RPC in Python?},
    journal = {Krystian's Safjan Blog},
    year    = {2023},
}</pre>
            </div>
        <div class="article-tags">
            <span class="tags-label">Tags:</span>
                <a href="https://www.safjan.com/tag/python/" class="article-tag">python</a>
                <a href="https://www.safjan.com/tag/microservices/" class="article-tag">microservices</a>
                <a href="https://www.safjan.com/tag/communication/" class="article-tag">communication</a>
                <a href="https://www.safjan.com/tag/rpc/" class="article-tag">rpc</a>
                <a href="https://www.safjan.com/tag/rest/" class="article-tag">rest</a>
                <a href="https://www.safjan.com/tag/remote-procedure-call/" class="article-tag">remote-procedure-call</a>
                <a href="https://www.safjan.com/tag/xmlrpc/" class="article-tag">xmlrpc</a>
                <a href="https://www.safjan.com/tag/jsonrpc/" class="article-tag">jsonrpc</a>
                <a href="https://www.safjan.com/tag/distributed-computing/" class="article-tag">distributed-computing</a>
                <a href="https://www.safjan.com/tag/client-server/" class="article-tag">client-server</a>
                <a href="https://www.safjan.com/tag/server/" class="article-tag">server</a>
                <a href="https://www.safjan.com/tag/client/" class="article-tag">client</a>
                <a href="https://www.safjan.com/tag/simplexmlrpcserver/" class="article-tag">SimpleXMLRPCServer</a>
                <a href="https://www.safjan.com/tag/serverproxy/" class="article-tag">ServerProxy</a>
                <a href="https://www.safjan.com/tag/remote-communication/" class="article-tag">remote-communication</a>
                <a href="https://www.safjan.com/tag/flask/" class="article-tag">Flask</a>
        </div>







            <div class="related-posts">
                <h4 class="related-posts-title">You might also like</h4>
                <div class="related-posts-grid">
                        <a href="https://www.safjan.com/guide-building-python-rpc-server-using-flask/" class="related-post-card">
                            <span class="related-post-title">A Guide to Building a Python RPC Server Using Flask</span>
                            <span class="related-post-date">Feb 13, 2023</span>
                        </a>
                        <a href="https://www.safjan.com/serve-http-files-with-python-server/" class="related-post-card">
                            <span class="related-post-title">Serve HTTP Files With Python Server</span>
                            <span class="related-post-date">Apr 27, 2022</span>
                        </a>
                        <a href="https://www.safjan.com/ragas-mlflow-rag-evaluation-tutorial/" class="related-post-card">
                            <span class="related-post-title">RAG Evaluation with RAGAS and MLflow - A Practical Guide</span>
                            <span class="related-post-date">Jan 08, 2026</span>
                        </a>
                        <a href="https://www.safjan.com/python-protocols-structural-subtyping/" class="related-post-card">
                            <span class="related-post-title">Understanding Python Protocols - Structural Subtyping in Practice</span>
                            <span class="related-post-date">Oct 29, 2025</span>
                        </a>
                </div>
            </div>




    </article>

    <footer>
<p>
  &copy; 2026 Krystian Safjan - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/deed.en_US" target="_blank">Creative Commons Attribution-ShareAlike</a>
</p>    </footer>
</main>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Blog",
  "name": "Krystian Safjan's Blog",
  "url": "https://www.safjan.com",
"image": "/images/profile_new.jpg",  "description": ""
}
</script>


<script src="/pagefind/pagefind-ui.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', function() {
        new PagefindUI({
            element: "#search",
            showSubResults: false,
            showImages: false,
            basePath: "/pagefind/"
        });
    });
</script>

<script src="https://www.safjan.com/theme/js/theme-switcher.js"></script>

<style>
.video-embed {
    position: relative;
    width: 100%;
    padding-bottom: 56.25%;
    background: #000;
    border-radius: 0.375rem;
    overflow: hidden;
}
.video-embed iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 0;
}
.video-embed-wrapper {
    margin-bottom: 1rem;
}
.video-embed-info {
    padding: 0.5rem 0.75rem;
    background: var(--color-bg-secondary, #f6f8fa);
    border-radius: 0 0 0.375rem 0.375rem;
    font-size: 0.875rem;
    margin-top: -0.375rem;
}
.video-embed-info a {
    text-decoration: none;
    color: inherit;
}
.video-embed-info a:hover {
    text-decoration: underline;
}
</style>
<script>
document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('pre > code').forEach(function(code) {
        var text = code.textContent.trim();
        var lines = text.split('\n');
        var url = lines[0].trim();

        var videoId = null;
        var embedUrl = null;
        var platform = null;

        // YouTube detection
        var ytMatch = url.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/);
        if (ytMatch) {
            videoId = ytMatch[1];
            embedUrl = 'https://www.youtube-nocookie.com/embed/' + videoId;
            platform = 'youtube';
        }

        // Vimeo detection
        var vimeoMatch = url.match(/vimeo\.com\/(?:video\/)?(\d+)/);
        if (vimeoMatch) {
            videoId = vimeoMatch[1];
            embedUrl = 'https://player.vimeo.com/video/' + videoId + '?dnt=1';
            platform = 'vimeo';
        }

        if (!videoId || !embedUrl) return;

        var meta = {};
        lines.slice(1).forEach(function(line) {
            var m = line.match(/^(\w+):\s*(.+)$/);
            if (m) meta[m[1].toLowerCase()] = m[2].trim();
        });

        var wrapper = document.createElement('div');
        wrapper.className = 'video-embed-wrapper';

        var embed = document.createElement('div');
        embed.className = 'video-embed';
        embed.innerHTML = '<iframe src="' + embedUrl +
            '" allowfullscreen loading="lazy" title="' + (meta.title || (platform === 'youtube' ? 'YouTube video' : 'Vimeo video')).replace(/"/g, '&quot;') + '"></iframe>';
        wrapper.appendChild(embed);

        if (meta.title || meta.author) {
            var info = document.createElement('div');
            info.className = 'video-embed-info';
            var html = meta.title ? '<strong>' + meta.title + '</strong>' : '';
            if (meta.author) {
                html += (meta.title ? ' &bull; ' : '');
                html += meta.authorurl ? '<a href="' + meta.authorurl + '" target="_blank" rel="noopener">' + meta.author + '</a>' : meta.author;
            }
            info.innerHTML = html;
            wrapper.appendChild(info);
        }
        code.closest('pre').replaceWith(wrapper);
    });
});
</script>

<style>
.tweet-embed-wrapper {
    margin-bottom: 1rem;
}
.tweet-embed-loading {
    padding: 1rem;
    background: var(--color-bg-secondary, #f6f8fa);
    border-radius: 0.375rem;
    color: var(--color-text-secondary, #6c757d);
    font-size: 0.875rem;
}
</style>
<script>
document.addEventListener('DOMContentLoaded', function() {
    var twitterScriptLoaded = false;

    function loadTwitterScript() {
        if (twitterScriptLoaded) return;
        twitterScriptLoaded = true;
        var script = document.createElement('script');
        script.src = 'https://platform.twitter.com/widgets.js';
        script.async = true;
        document.body.appendChild(script);
    }

    document.querySelectorAll('pre > code.language-tweet').forEach(function(code) {
        var text = code.textContent.trim();
        var url = text.split('\n')[0].trim();

        // Twitter/X URL detection
        var tweetMatch = url.match(/^https?:\/\/(twitter\.com|x\.com)\/\w+\/status\/(\d+)/);
        if (!tweetMatch) return;

        var wrapper = document.createElement('div');
        wrapper.className = 'tweet-embed-wrapper';
        wrapper.innerHTML = '<div class="tweet-embed-loading">Loading tweet...</div>';

        code.closest('pre').replaceWith(wrapper);

        // Fetch oEmbed data
        var oembedUrl = 'https://publish.twitter.com/oembed?url=' + encodeURIComponent(url) + '&dnt=true&omit_script=true';

        fetch(oembedUrl)
            .then(function(response) { return response.json(); })
            .then(function(data) {
                wrapper.innerHTML = data.html;
                loadTwitterScript();
                if (window.twttr && window.twttr.widgets) {
                    window.twttr.widgets.load(wrapper);
                }
            })
            .catch(function() {
                wrapper.innerHTML = '<div class="tweet-embed-loading">Failed to load tweet. <a href="' + url + '" target="_blank" rel="noopener">View on Twitter</a></div>';
            });
    });
});
</script>
</body>
</html>