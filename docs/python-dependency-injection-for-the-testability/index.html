
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="HandheldFriendly" content="True"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"/>
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap"
              rel="stylesheet">

        <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/stylesheet/style.min.css">



        <link id="pygments-light-theme" rel="stylesheet" type="text/css"
              href="https://www.safjan.com/theme/pygments/github.min.css">



    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/font-awesome/css/fontawesome.css">
    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/font-awesome/css/brands.css">
    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/font-awesome/css/solid.css">

        <link rel="stylesheet" type="text/css"
              href="https://www.safjan.com/styles/custom.css">

        <link href="https://www.safjan.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Krystian Safjan's Blog Atom">

        <link href="https://www.safjan.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate"
              title="Krystian Safjan's Blog RSS">


<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RM2PKDCCYM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RM2PKDCCYM');
</script>
<!-- End of Google tag (gtag.js) -->



    <meta name="author" content="Krystian Safjan"/>
    <meta name="description" content="Learn how to use dependency injection to decouple dependencies from our functions, methods, or classes, making it easier to test and maintain our code."/>
    <meta name="keywords" content="machine-learning, python, testing, dependency-injection, software-development">
    <meta expr:content="2023-06-21 00:00:00+02:00" itemprop='datePublished'/>
    <meta expr:content="2023-06-21 00:00:00+02:00" itemprop='dateModified'/>
    <meta property="article:modified_time" content="2023-06-21 00:00:00+02:00"/>
    <meta property="article:published_time" content="2023-06-21 00:00:00+02:00"/>
    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Harnessing the Power of Dependency Injection for Improved Testability in Python",
  "datePublished": "2023-06-21 00:00:00+02:00",
  "dateModified": "2023-06-21 00:00:00+02:00"
}








    </script>



  <meta property="og:site_name" content="Krystian Safjan's Blog"/>
  <meta property="og:title" content="Harnessing the Power of Dependency Injection for Improved Testability in Python"/>
  <meta property="og:description" content="Learn how to use dependency injection to decouple dependencies from our functions, methods, or classes, making it easier to test and maintain our code."/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="https://www.safjan.com/python-dependency-injection-for-the-testability/"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2023-06-21 00:00:00+02:00"/>
  <meta property="article:modified_time" content="2023-06-21 00:00:00+02:00"/>
  <meta property="article:author" content="https://www.safjan.com/author/krystian-safjan/">
  <meta property="article:section" content="Machine Learning"/>
  <meta property="article:tag" content="machine-learning"/>
  <meta property="article:tag" content="python"/>
  <meta property="article:tag" content="testing"/>
  <meta property="article:tag" content="dependency-injection"/>
  <meta property="article:tag" content="software-development"/>
  <meta property="og:image" content="https://www.safjan.com//images/head/dependency_injection_2_cr_640px.jpg">

    <meta name="twitter:card" content="summary"/>
    <meta property="twitter:image" content="https://www.safjan.com//images/head/dependency_injection_2_cr_640px.jpg">

    <meta name="twitter:label1" content="Est. reading time"/>
    <meta name="twitter:data1" content="4 min."/>
    <meta name="twitter:site" content="@izikeros"/>
    <meta name="twitter:description" content="<p>Learn how to use dependency injection to decouple dependencies from our functions, methods, or classes, making it easier to test and maintain our code.</p>"/>
    <meta name="twitter:title" content="Harnessing the Power of Dependency Injection for Improved Testability in Python"/>


    <title>    Harnessing the Power of Dependency Injection for Improved Testability in Python
</title>


<!-- Google Automatic Ads -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9767732578835199"
     crossorigin="anonymous"></script>
<!-- End of Google Automatic Ads -->


</head>
<body class="light-theme">
<aside>
    <div>
        <a href="https://www.safjan.com/">
                <img src="/images/profile_new.jpg" alt="Krystian Safjan's Blog" title="Krystian Safjan's Blog" width="140" height="140">
        </a>

        <h1>
            <a href="https://www.safjan.com/">Krystian Safjan's Blog</a>
        </h1>

<p>Data Scientist | Researcher | Team Leader<br><br> working at Ernst &amp; Young and writing about <a href="/category/machine-learning.html">Data Science and Visualization</a>, on <a href="/category/machine-learning.html">Machine Learning, Deep Learning</a> and <a href="/tag/nlp/">NLP</a>. There are also some  <a href="/category/howto.html">howto</a> posts on tools and workflows.</p>




        <ul class="social">
                <li>
                    <a  class="sc-linkedin" href="https://pl.linkedin.com/in/krystiansafjan"
                       target="_blank">
                        <i class="fab fa-linkedin"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-github" href="https://github.com/izikeros"
                       target="_blank">
                        <i class="fab fa-github"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-envelope" href="mailto:ksafjan@gmail.com"
                       target="_blank">
                        <i class="fas fa-envelope"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-graduation-cap" href="https://scholar.google.pl/citations?user=UlNJgMoAAAAJ"
                       target="_blank">
                        <i class="fas fa-graduation-cap"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-rss" href="/feeds/all.rss.xml"
                       target="_blank">
                        <i class="fas fa-rss"></i>
                    </a>
                </li>
        </ul>
    </div>

<style>
    .button {
        background-color: yellow;
        color: black;
        border: none;
        padding: 10px 20px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        cursor: pointer;
        border-radius: 20px;
    }

    .center {
        text-align: center;
    }

    .container {
        display: grid;
        grid-template-columns: 1fr 1fr;
    }

    .left-col {
    }

    .right-col {
    }

    .image {
        border-radius: 0;
        width: 100%;
    }

    .book-list {
        padding-top:0;
        padding-bottom: 0;
        text-align:left;
        box-sizing: border-box;
        display: block;
        list-style-image: url(/images/shortcode-tick.webp);
        margin-block-start: 1em;
        margin-block-end: 1em;
        margin-inline-start:0;
        margin-inline-end:0;
        padding-inline-start:40px;
    }

    .book-list li {
        font-weight: bold;
    }

    @media (max-width: 600px) {
        .container {
            grid-template-columns: 1fr;
        }
    }

</style>
<div class="container">
    <div class="left-col">
        <a href="https://ksafjanuser.gumroad.com/l/mlops">
            <img src="/images/mlop_interview_book_cover_3D_300px.jpg" class="image" alt="Interview Book Cover">
        </a>

        <div class="center">
            <a href="https://ksafjanuser.gumroad.com/l/mlops">
                <button class="button">Get for $2.99</button>
            </a>
        </div>
    </div>
    <div class="right-col">
        <div>
            <ul class="book-list">
                <li>PDF, ePUB, mobi format ebook, no DRM</li>
                <li>50 questions and answers</li>
                <li>Stories from real projects</li>
                <li>92 multiple choice quiz questions</li>
                <li>80 pages</li>
            </ul>
        </div>
    </div>
</div>
</aside>
<main>

        <nav>
            <a href="https://www.safjan.com/">Home</a>

                <a href="/archives.html">Articles</a>
                <a href="/til.html">Notes</a>
                <a href="/categories.html">Categories</a>
                <a href="/pdfs/Krystian_Safjan_resume_priv.pdf">Resume</a>

                <a href="https://www.safjan.com/feeds/all.atom.xml">Atom</a>

                <a href="https://www.safjan.com/feeds/all.rss.xml">RSS</a>
        </nav>

    <article class="single">
        <header>
                
            <p>
                <!-- Posted on: -->
                2023-06-21 



                    <span id="post-share-links">
    &nbsp;&nbsp;&nbsp;Share on:
    <a href="https://twitter.com/intent/tweet?text=Harnessing%20the%20Power%20of%20Dependency%20Injection%20for%20Improved%20Testability%20in%20Python&url=https%3A//www.safjan.com/python-dependency-injection-for-the-testability/&hashtags=machine-learning,python,testing,dependency-injection,software-development" target="_blank" title="Share on Twitter">Twitter</a>
    |
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A//www.safjan.com/python-dependency-injection-for-the-testability/" target="_blank" title="Share on Facebook">Facebook</a>
    |
    <a href="https://news.ycombinator.com/submitlink?t=Harnessing%20the%20Power%20of%20Dependency%20Injection%20for%20Improved%20Testability%20in%20Python&u=https%3A//www.safjan.com/python-dependency-injection-for-the-testability/" target="_blank" title="Share on HackerNews">HackerNews</a>
    |
    <a href="https://www.reddit.com/submit?url=https%3A//www.safjan.com/python-dependency-injection-for-the-testability/&title=Harnessing%20the%20Power%20of%20Dependency%20Injection%20for%20Improved%20Testability%20in%20Python" target="_blank" title="Share via Reddit">Reddit</a>
  </span>
                <br/>
            </p>
            <h1 id="python-dependency-injection-for-the-testability">Harnessing the Power of Dependency Injection for Improved Testability in Python</h1>
            <div class="header-underline"></div>
                <p class="summary"><p>Learn how to use dependency injection to decouple dependencies from our functions, methods, or classes, making it easier to test and maintain our code.</p></p>

                <div style="width: 100%; padding-bottom: 30px; position: relative;">
                    <a href="https://www.safjan.com/python-dependency-injection-for-the-testability/">
                        <img style="width: 100%; "
                             src="/images/head/dependency_injection_2_cr_640px.jpg" alt="">
                    </a>
                </div>


        </header>


        <div>
            <h2>Introduction</h2>
<p>In software development, testability is a crucial aspect that helps ensure the reliability and maintainability of our code. One effective technique for enhancing testability is dependency injection (DI). Dependency injection allows us to decouple dependencies from our functions, methods, or classes, making it easier to test and maintain our code. In this blog post, we will explore various techniques, use cases, and lesser-known tricks for using dependency injection in Python.</p>
<!-- MarkdownTOC levels="2,3" autolink="true" autoanchor="true" -->

<ul>
<li><a href="#what-is-dependency-injection">What is Dependency Injection?</a></li>
<li><a href="#benefits-of-dependency-injection">Benefits of Dependency Injection:</a></li>
<li><a href="#techniques-for-dependency-injection">Techniques for Dependency Injection</a><ul>
<li><a href="#constructor-injection">Constructor Injection</a></li>
<li><a href="#setter-injection">Setter Injection</a></li>
<li><a href="#interface-injection">Interface Injection</a></li>
</ul>
</li>
<li><a href="#use-cases-for-dependency-injection">Use Cases for Dependency Injection:</a><ul>
<li><a href="#testing-legacy-code">Testing Legacy Code</a></li>
<li><a href="#mocking-dependencies">Mocking Dependencies</a></li>
<li><a href="#improving-code-reusability">Improving Code Reusability</a></li>
<li><a href="#parameter-injection">Parameter Injection:</a></li>
<li><a href="#context-managers-and-dependency-injection">Context Managers and Dependency Injection</a></li>
<li><a href="#dependency-injection-containers">Dependency Injection Containers</a></li>
</ul>
</li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>
<!-- /MarkdownTOC -->

<p><a id="what-is-dependency-injection"></a></p>
<h2>What is Dependency Injection?</h2>
<p>Dependency injection is a design pattern that allows us to inject dependencies into a class or function from external sources rather than creating them internally. By doing so, we reduce the coupling between components and make them more flexible, reusable, and testable.</p>
<p><a id="benefits-of-dependency-injection"></a></p>
<h2>Benefits of Dependency Injection:</h2>
<ul>
<li><strong>Improved testability</strong>: By injecting dependencies, we can easily replace them with mocks or stubs during testing, making our tests more isolated and focused.</li>
<li><strong>Decoupled code</strong>: Dependency injection reduces the tight coupling between components, promoting better separation of concerns and modular design.</li>
<li><strong>Code reusability</strong>: With dependency injection, components become more reusable as they rely on abstractions rather than concrete implementations.</li>
<li><strong>Easier maintenance</strong>: By externalizing dependencies, we can modify or extend their behavior without affecting the code that uses them.</li>
</ul>
<p><a id="techniques-for-dependency-injection"></a></p>
<h2>Techniques for Dependency Injection</h2>
<p><a id="constructor-injection"></a></p>
<h3>Constructor Injection</h3>
<p>Constructor injection involves passing dependencies through a class's constructor. It ensures that the required dependencies are available before an object is created.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">UserService</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_repository</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_repository</span> <span class="o">=</span> <span class="n">user_repository</span>

    <span class="k">def</span> <span class="nf">get_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_repository</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span>
</code></pre></div>

<p><a id="setter-injection"></a></p>
<h3>Setter Injection</h3>
<p>Setter injection involves setting the dependencies using setter methods. This technique allows for more flexibility, as dependencies can be changed or updated after object initialization.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">NotificationService</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">set_email_service</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">email_service</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">email_service</span> <span class="o">=</span> <span class="n">email_service</span>

    <span class="k">def</span> <span class="nf">send_notification</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">email_service</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">email</span><span class="p">,</span> <span class="s2">&quot;New notification!&quot;</span><span class="p">)</span>
</code></pre></div>

<p><a id="interface-injection"></a></p>
<h3>Interface Injection</h3>
<p>Interface injection is a technique where a dependency is injected by providing an interface or an abstract base class. This allows for the injection of different implementations of the same interface, providing flexibility and extensibility.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">ABC</span><span class="p">,</span> <span class="n">abstractmethod</span>

<span class="k">class</span> <span class="nc">Database</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">):</span>
        <span class="k">pass</span>

<span class="k">class</span> <span class="nc">MySQLDatabase</span><span class="p">(</span><span class="n">Database</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">):</span>
        <span class="c1"># Perform MySQL query</span>
        <span class="k">pass</span>

<span class="k">class</span> <span class="nc">PostgresDatabase</span><span class="p">(</span><span class="n">Database</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">):</span>
        <span class="c1"># Perform Postgres query</span>
        <span class="k">pass</span>
</code></pre></div>

<p><a id="use-cases-for-dependency-injection"></a></p>
<h2>Use Cases for Dependency Injection:</h2>
<p><a id="testing-legacy-code"></a></p>
<h3>Testing Legacy Code</h3>
<p>When working with legacy code that has tightly coupled dependencies, dependency injection can be used to introduce testability by replacing or mocking those dependencies during testing.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">legacy_function</span><span class="p">():</span>
    <span class="c1"># ...</span>
    <span class="n">db_connection</span> <span class="o">=</span> <span class="n">MySQLDatabase</span><span class="p">()</span>  <span class="c1"># Tightly coupled dependency</span>
    <span class="c1"># ...</span>

<span class="c1"># Using dependency injection to test legacy_function</span>


<span class="k">def</span> <span class="nf">test_legacy_function</span><span class="p">():</span>
    <span class="n">mock_db</span> <span class="o">=</span> <span class="n">MockMySQLDatabase</span><span class="p">()</span>
    <span class="n">legacy_function</span><span class="o">.</span><span class="n">inject_dependencies</span><span class="p">(</span><span class="n">db_connection</span><span class="o">=</span><span class="n">mock_db</span><span class="p">)</span>
    <span class="c1"># Test the function</span>
</code></pre></div>

<p><a id="mocking-dependencies"></a></p>
<h3>Mocking Dependencies</h3>
<p>In unit testing, dependency injection allows us to replace real dependencies with mock objects, enabling us to focus on testing the behavior of the unit under test in isolation.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">UserService</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_repository</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_repository</span> <span class="o">=</span> <span class="n">user_repository</span>

    <span class="k">def</span> <span class="nf">get_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_repository</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span>

<span class="c1"># Testing UserService with a mock user repository</span>
<span class="k">def</span> <span class="nf">test_get_user</span><span class="p">():</span>
    <span class="n">mock_repository</span> <span class="o">=</span> <span class="n">MockUserRepository</span><span class="p">()</span>
    <span class="n">service</span> <span class="o">=</span> <span class="n">UserService</span><span class="p">(</span><span class="n">user_repository</span><span class="o">=</span><span class="n">mock_repository</span><span class="p">)</span>
    <span class="c1"># Test the method using the mock repository</span>
</code></pre></div>

<p><a id="improving-code-reusability"></a></p>
<h3>Improving Code Reusability</h3>
<p>Dependency injection promotes code reusability by relying on abstractions rather than concrete implementations. This allows different implementations to be injected based on specific requirements.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PaymentGateway</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">process_payment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="k">pass</span>

<span class="k">class</span> <span class="nc">PayPalGateway</span><span class="p">(</span><span class="n">PaymentGateway</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">process_payment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="c1"># Process payment via PayPal</span>
        <span class="k">pass</span>

<span class="k">class</span> <span class="nc">StripeGateway</span><span class="p">(</span><span class="n">PaymentGateway</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">process_payment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="c1"># Process payment via Stripe</span>
        <span class="k">pass</span>
</code></pre></div>

<ol>
<li>Lesser-Known Techniques and Tricks:</li>
</ol>
<p><a id="parameter-injection"></a></p>
<h3>Parameter Injection:</h3>
<p>In addition to constructor, setter, and interface injection, parameter injection is a technique where dependencies are passed directly as parameters to functions or methods. This can be useful in situations where direct injection is preferred over using class instances.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">process_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">logger</span><span class="p">):</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Processing data...&quot;</span><span class="p">)</span>
    <span class="c1"># Process the data</span>

<span class="c1"># Calling the function with injected dependencies</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">Logger</span><span class="p">()</span>
<span class="n">process_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">logger</span><span class="p">)</span>
</code></pre></div>

<p><a id="context-managers-and-dependency-injection"></a></p>
<h3>Context Managers and Dependency Injection</h3>
<p>Context managers can be combined with dependency injection to provide resources or dependencies within a specific scope, ensuring their proper initialization and cleanup.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">contextlib</span> <span class="kn">import</span> <span class="n">contextmanager</span>

<span class="nd">@contextmanager</span>
<span class="k">def</span> <span class="nf">db_connection</span><span class="p">():</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="n">MySQLDatabase</span><span class="p">()</span>  <span class="c1"># Dependency initialization</span>
    <span class="k">yield</span> <span class="n">connection</span>
    <span class="n">connection</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  <span class="c1"># Cleanup</span>

<span class="c1"># Using the context manager with dependency injection</span>
<span class="k">with</span> <span class="n">db_connection</span><span class="p">()</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
    <span class="c1"># Use the database connection within the context</span>
</code></pre></div>

<p><a id="dependency-injection-containers"></a></p>
<h3>Dependency Injection Containers</h3>
<p>Dependency injection containers or frameworks provide a centralized way to manage dependencies, their configurations, and their lifetime. Popular Python DI frameworks include <code>injector</code>, <code>DInjector</code>, and <code>inject</code>.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">injector</span> <span class="kn">import</span> <span class="n">inject</span><span class="p">,</span> <span class="n">Injector</span>

<span class="k">class</span> <span class="nc">UserService</span><span class="p">:</span>
    <span class="nd">@inject</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_repository</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_repository</span> <span class="o">=</span> <span class="n">user_repository</span>

<span class="c1"># Creating and using an injector</span>
<span class="n">injector</span> <span class="o">=</span> <span class="n">Injector</span><span class="p">()</span>
<span class="n">user_service</span> <span class="o">=</span> <span class="n">injector</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">UserService</span><span class="p">)</span>
</code></pre></div>

<p><a id="conclusion"></a></p>
<h2>Conclusion</h2>
<p>Dependency injection is a powerful technique for improving testability, code modularity, and reusability in Python. By applying various injection techniques and exploring different use cases, you can design more robust and maintainable code. Additionally, the lesser-known tricks and techniques covered in this blog post can further enhance your understanding and application of dependency injection in various scenarios.</p>
        </div>




            <div class="bibtex-note">
                <p><b>To cite this article:</b></p>
                <pre>@article{Saf2023Harnessing,
    author  = {Krystian Safjan},
    title   = {Harnessing the Power of Dependency Injection for Improved Testability in Python},
    journal = {Krystian's Safjan Blog},
    year    = {2023},
}</pre>
            </div>
        <div class="tag-cloud">
            <p>
                    <br/><br/>Tags:&nbsp;
                        <a href="https://www.safjan.com/tag/machine-learning/">machine-learning</a>
                        <a href="https://www.safjan.com/tag/python/">python</a>
                        <a href="https://www.safjan.com/tag/testing/">testing</a>
                        <a href="https://www.safjan.com/tag/dependency-injection/">dependency-injection</a>
                        <a href="https://www.safjan.com/tag/software-development/">software-development</a>
            </p>
        </div>








            <div class="related-posts">
                <h4>You might enjoy</h4>
                <ul class="related-posts">
                        <li><a href="https://www.safjan.com/the-role-and-responsibilities-of-a-forward-deployed-engineer/">The Role and Responsibilities of a Forward Deployed Engineer - Bridging the Gap Between Software Products and Customer Needs</a></li>
                        <li><a href="https://www.safjan.com/the-best-vector-databases-for-storing-embeddings/">The Best Vector Databases for Storing Embeddings</a></li>
                        <li><a href="https://www.safjan.com/attacking-differential-privacy-using-the-correlation-between-the-features/">Attacking Differential Privacy Using the Correlation Between the Features</a></li>
                        <li><a href="https://www.safjan.com/measure-quality-of-embeddings-intrinsic-vs-extrinsic/">Intrinsic vs. Extrinsic Evaluation - What's the Best Way to Measure Embedding Quality?</a></li>
                        <li><a href="https://www.safjan.com/how-the-lime-method-for-explainable-ai-works/">LIME - Understanding How This Method for Explainable AI Works</a></li>
                </ul>
            </div>

  <div class="neighbors">
    <a class="btn float-left" href="https://www.safjan.com/git-workflow-reviewing-changes-before-pulling-remote-branch/" title="Efficient Workflow for Reviewing Changes in Git before Pulling from Remote Branch">
      <i class="fa fa-angle-left"></i> Previous Post
    </a>
    <a class="btn float-right" href="https://www.safjan.com/bash-rename-mutliple-image-files-to-match-pattern-with-sequence-number/" title="Bash - Rename Multiple Image Files to Match Pattern With Sequence Number">
      Next Post <i class="fa fa-angle-right"></i>
    </a>
  </div>


    </article>

    <footer>
<p>
  &copy; 2023 Krystian Safjan - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/deed.en_US" target="_blank">Creative Commons Attribution-ShareAlike</a>
</p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p><p>
  <a rel="license"
     href="http://creativecommons.org/licenses/by-sa/4.0/"
     target="_blank">
    <img alt="Creative Commons License"
         title="Creative Commons License"
         style="border-width:0"
           src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"
         width="80"
         height="15"/>
  </a>
</p>    </footer>
</main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Krystian Safjan's Blog ",
  "url" : "https://www.safjan.com",
  "image": "/images/profile_new.jpg",
  "description": ""
}
</script>

</body>
</html>