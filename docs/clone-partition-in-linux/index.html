<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

    <link
      href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      type="text/css"
      href="../theme/stylesheet/style.min.css"
    />

    <link
      id="pygments-light-theme"
      rel="stylesheet"
      type="text/css"
      href="../theme/pygments/github.min.css"
    />

    <link
      rel="stylesheet"
      type="text/css"
      href="../theme/font-awesome/css/fontawesome.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="../theme/font-awesome/css/brands.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="../theme/font-awesome/css/solid.css"
    />

    <link rel="stylesheet" type="text/css" href="../styles/custom.css" />

    <meta name="author" content="Krystian Safjan" />
    <meta name="description" content="how to clone disk partition in Linux" />
    <meta name="keywords" content="Linux, dd, pv, partition, disk" />

    <meta property="og:site_name" content="Krystian Safjan's Blog" />
    <meta property="og:title" content="Clone partition in Linux" />
    <meta
      property="og:description"
      content="how to clone disk partition in Linux"
    />
    <meta property="og:locale" content="en_US" />
    <meta property="og:url" content="../clone-partition-in-linux/" />
    <meta property="og:type" content="article" />
    <meta
      property="article:published_time"
      content="2022-03-03 00:00:00+01:00"
    />
    <meta property="article:modified_time" content="" />
    <meta property="article:author" content="../author/krystian-safjan/" />
    <meta property="article:section" content="note" />
    <meta property="article:tag" content="Linux" />
    <meta property="article:tag" content="dd" />
    <meta property="article:tag" content="pv" />
    <meta property="article:tag" content="partition" />
    <meta property="article:tag" content="disk" />
    <meta property="og:image" content="/images/profile_new.jpg" />

    <title>Krystian Safjan's Blog &ndash; Clone partition in Linux</title>

    <!-- Google Automatic Ads -->
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9767732578835199"
      crossorigin="anonymous"
    ></script>
    <!-- End of Google Automatic Ads -->
  </head>
  <body class="light-theme">
    <aside>
      <div>
        <a href="../">
          <img
            src="/images/profile_new.jpg"
            alt="Krystian Safjan's Blog"
            title="Krystian Safjan's Blog"
            width="140"
            height="140"
          />
        </a>

        <h1>
          <a href="../">Krystian Safjan's Blog</a>
        </h1>

        <p>
          Data Scientist | Researcher | Team Leader<br /><br />
          working at Ernst &amp; Young and writing about
          <a href="/category/data-science.html"
            >Data Science and Visualization</a
          >, on
          <a href="/category/data-science.html"
            >Machine Learning, Deep Learning</a
          >
          and <a href="/tag/nlp/">NLP</a>. There are also some
          <a href="/category/howto.html">howto</a> posts on tools and workflows.
        </p>

        <ul class="social">
          <li>
            <a
              class="sc-linkedin"
              href="https://pl.linkedin.com/in/krystiansafjan"
              target="_blank"
            >
              <i class="fab fa-linkedin"></i>
            </a>
          </li>
          <li>
            <a
              class="sc-github"
              href="https://github.com/izikeros"
              target="_blank"
            >
              <i class="fab fa-github"></i>
            </a>
          </li>
          <li>
            <a
              class="sc-envelope"
              href="mailto:ksafjan@gmail.com"
              target="_blank"
            >
              <i class="fas fa-envelope"></i>
            </a>
          </li>
          <li>
            <a
              class="sc-graduation-cap"
              href="https://scholar.google.pl/citations?user=UlNJgMoAAAAJ"
              target="_blank"
            >
              <i class="fas fa-graduation-cap"></i>
            </a>
          </li>
          <li>
            <a class="sc-rss" href="/feeds/all.rss.xml" target="_blank">
              <i class="fas fa-rss"></i>
            </a>
          </li>
        </ul>
      </div>
    </aside>
    <main>
      <nav>
        <a href="../">Home</a>

        <a href="/archives.html">Articles</a>
        <a href="/til.html">Notes</a>
        <a href="/categories.html">Categories</a>
        <a href="/tags.html">Tags</a>
        <a href="/pdfs/Krystian_Safjan_resume_priv.pdf">Resume</a>
      </nav>

      <article class="single">
        <header>
          <p>
            <!-- Posted on: -->
            March 03, 2022

            <span id="post-share-links">
              &nbsp;&nbsp;&nbsp;Share on:
              <a
                href="https://twitter.com/intent/tweet?text=Clone%20partition%20in%C2%A0Linux&url=/clone-partition-in-linux/&hashtags=linux,dd,pv,partition,disk"
                target="_blank"
                title="Share on Twitter"
                >Twitter</a
              >
              |
              <a
                href="https://www.facebook.com/sharer/sharer.php?u=/clone-partition-in-linux/"
                target="_blank"
                title="Share on Facebook"
                >Facebook</a
              >
              |
              <a
                href="https://news.ycombinator.com/submitlink?t=Clone%20partition%20in%C2%A0Linux&u=/clone-partition-in-linux/"
                target="_blank"
                title="Share on HackerNews"
                >HackerNews</a
              >
              |
              <a
                href="https://www.reddit.com/submit?url=/clone-partition-in-linux/&title=Clone%20partition%20in%C2%A0Linux"
                target="_blank"
                title="Share via Reddit"
                >Reddit</a
              >
            </span>
            <br />
          </p>
          <h1 id="clone-partition-in-linux">Clone partition in&nbsp;Linux</h1>
          <div class="header-underline"></div>
        </header>

        <div>
          <h2>clone&nbsp;partition</h2>
          <div class="highlight">
            <pre><span></span><code>dd <span class="k">if</span><span class="o">=</span>infile <span class="p">|</span> pv &gt; outfile
</code></pre>
          </div>

          <h2>create disk&nbsp;image:</h2>
          <p>
            (from arch
            wiki:&nbsp;https://wiki.archlinux.org/index.php/Dd#Disk_cloning_and_restore)
          </p>
          <div class="highlight">
            <pre><span></span><code>dd <span class="k">if</span><span class="o">=</span>/dev/sda <span class="nv">conv</span><span class="o">=</span>sync,noerror <span class="nv">bs</span><span class="o">=</span>64K <span class="p">|</span> gzip -c  &gt; /path/to/backup.img.gz
</code></pre>
          </div>

          <p>
            Finally, save extra information about the drive geometry necessary
            in order to interpret the partition table stored within the image.
            The most important of which is the cylinder&nbsp;size.
          </p>
          <div class="highlight">
            <pre><span></span><code>fdisk -l /dev/sda &gt; /path/to/list_fdisk.info
</code></pre>
          </div>

          <h2>Restore&nbsp;system</h2>
          <p>To restore your&nbsp;system:</p>
          <div class="highlight">
            <pre><span></span><code>gunzip -c /path/to/backup.img.gz <span class="p">|</span> dd <span class="nv">of</span><span class="o">=</span>/dev/sda
</code></pre>
          </div>
        </div>

        <div class="tag-cloud">
          <p>
            <br /><br />Tags:&nbsp;
            <a href="../tag/linux/">Linux</a>
            <a href="../tag/dd/">dd</a>
            <a href="../tag/pv/">pv</a>
            <a href="../tag/partition/">partition</a>
            <a href="../tag/disk/">disk</a>
          </p>
        </div>

        <div class="neighbors">
          <a
            class="btn float-left"
            href="../python-add-parent-directory-to-path/"
            title="Python Add Parent Directory To Path"
          >
            <i class="fa fa-angle-left"></i> Previous Post
          </a>
          <a
            class="btn float-right"
            href="../python-configuration-management/"
            title="Python configuration management"
          >
            Next Post <i class="fa fa-angle-right"></i>
          </a>
        </div>

        <div class="related-posts">
          <h4>You might enjoy</h4>
          <ul class="related-posts">
            <li>
              <a href="../top-popular-zsh-plugins-on-github-2021/"
                >Top popular Zsh plugins on GitHub&nbsp;(2021)</a
              >
            </li>
            <li>
              <a href="../data-science-command-line-tools/"
                >Data Science Command line&nbsp;Tools</a
              >
            </li>
            <li>
              <a href="../top-popular-zsh-plugins-on-github-2019/"
                >Top popular Zsh plugins on GitHub&nbsp;(2019)</a
              >
            </li>
            <li>
              <a href="../top-popular-zsh-plugins-on-github/"
                >Top popular Zsh plugins on&nbsp;GitHub</a
              >
            </li>
          </ul>
        </div>
      </article>

      <footer>
        <p>
          &copy; 2022 Krystian Safjan - This work is licensed under a
          <a
            rel="license"
            href="http://creativecommons.org/licenses/by-sa/4.0/deed.en_US"
            target="_blank"
            >Creative Commons Attribution-ShareAlike</a
          >
        </p>
        <p>
          Built with
          <a href="http://getpelican.com" target="_blank">Pelican</a> using
          <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
        </p>
        <p>
          <a
            rel="license"
            href="http://creativecommons.org/licenses/by-sa/4.0/"
            target="_blank"
          >
            <img
              alt="Creative Commons License"
              title="Creative Commons License"
              style="border-width: 0"
              src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"
              width="80"
              height="15"
            />
          </a>
        </p>
      </footer>
    </main>

    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Blog",
        "name": " Krystian Safjan's Blog ",
        "url": "..",
        "image": "/images/profile_new.jpg",
        "description": ""
      }
    </script>
  </body>
</html>
