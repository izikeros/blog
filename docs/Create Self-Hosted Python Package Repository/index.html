
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="HandheldFriendly" content="True"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"/>
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap"
              rel="stylesheet">

        <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/stylesheet/style.min.css">



        <link id="pygments-light-theme" rel="stylesheet" type="text/css"
              href="https://www.safjan.com/theme/pygments/github.min.css">



    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/font-awesome/css/fontawesome.css">
    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/font-awesome/css/brands.css">
    <link rel="stylesheet" type="text/css" href="https://www.safjan.com/theme/font-awesome/css/solid.css">

        <link rel="stylesheet" type="text/css"
              href="https://www.safjan.com/styles/custom.css">

        <link href="https://www.safjan.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Krystian Safjan's Blog Atom">

        <link href="https://www.safjan.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate"
              title="Krystian Safjan's Blog RSS">


<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RM2PKDCCYM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RM2PKDCCYM');
</script>
<!-- End of Google tag (gtag.js) -->



    <meta name="author" content="Krystian Safjan"/>
    <meta name="description" content="X::Lesser-known Python Package Repository Managers X::Storing Private Python Packages with Local NAS and Lightweight Servers Creating a self-hosted Python package repository allows you to host and manage your own Python packages, making them accessible to your team or the public …"/>
    <meta name="keywords" content="pypi, python, python-package, package-repository, artifactory, devpi">
    <meta expr:content="2023-08-12 00:00:00+02:00" itemprop='datePublished'/>
    <meta expr:content="2023-08-12 00:00:00+02:00" itemprop='dateModified'/>
    <meta property="article:modified_time" content="2023-08-12 00:00:00+02:00"/>
    <meta property="article:published_time" content="2023-08-12 00:00:00+02:00"/>
    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Create Self-Hosted Python Package Repository - General Guide",
  "datePublished": "2023-08-12 00:00:00+02:00",
  "dateModified": "2023-08-12 00:00:00+02:00"
}








    </script>



  <meta property="og:site_name" content="Krystian Safjan's Blog"/>
  <meta property="og:title" content="Create Self-Hosted Python Package Repository - General Guide"/>
  <meta property="og:description" content="X::Lesser-known Python Package Repository Managers X::Storing Private Python Packages with Local NAS and Lightweight Servers Creating a self-hosted Python package repository allows you to host and manage your own Python packages, making them accessible to your team or the public …"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="https://www.safjan.com/Create Self-Hosted Python Package Repository/"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2023-08-12 00:00:00+02:00"/>
  <meta property="article:modified_time" content="2023-08-12 00:00:00+02:00"/>
  <meta property="article:author" content="https://www.safjan.com/author/krystian-safjan/">
  <meta property="article:section" content="note"/>
  <meta property="article:tag" content="pypi"/>
  <meta property="article:tag" content="python"/>
  <meta property="article:tag" content="python-package"/>
  <meta property="article:tag" content="package-repository"/>
  <meta property="article:tag" content="artifactory"/>
  <meta property="article:tag" content="devpi"/>
  <meta property="og:image" content="/images/profile_new.jpg">

    <meta name="twitter:card" content="summary"/>
    <meta property="twitter:image" content="/images/profile_new.jpg">

    <meta name="twitter:label1" content="Est. reading time"/>
    <meta name="twitter:data1" content="4 min."/>
    <meta name="twitter:site" content="@izikeros"/>
    <meta name="twitter:description" content=""/>
    <meta name="twitter:title" content="Create Self-Hosted Python Package Repository - General Guide"/>


    <title>    Create Self-Hosted Python Package Repository - General Guide
</title>


<!-- Google Automatic Ads -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9767732578835199"
     crossorigin="anonymous"></script>
<!-- End of Google Automatic Ads -->


</head>
<body class="light-theme">
<aside>
    <div>
        <a href="https://www.safjan.com/">
                <img src="/images/profile_new.jpg" alt="Krystian Safjan's Blog" title="Krystian Safjan's Blog" width="140" height="140">
        </a>

        <h1>
            <a href="https://www.safjan.com/">Krystian Safjan's Blog</a>
        </h1>

<p>Data Scientist | Researcher | Team Leader<br><br> working at Ernst &amp; Young and writing about <a href="/category/machine-learning.html">Data Science and Visualization</a>, on <a href="/category/machine-learning.html">Machine Learning, Deep Learning</a> and <a href="/tag/nlp/">NLP</a>. There are also some  <a href="/category/howto.html">howto</a> posts on tools and workflows.</p>




        <ul class="social">
                <li>
                    <a  class="sc-linkedin" href="https://pl.linkedin.com/in/krystiansafjan"
                       target="_blank">
                        <i class="fab fa-linkedin"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-github" href="https://github.com/izikeros"
                       target="_blank">
                        <i class="fab fa-github"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-envelope" href="mailto:ksafjan@gmail.com"
                       target="_blank">
                        <i class="fas fa-envelope"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-graduation-cap" href="https://scholar.google.pl/citations?user=UlNJgMoAAAAJ"
                       target="_blank">
                        <i class="fas fa-graduation-cap"></i>
                    </a>
                </li>
                <li>
                    <a  class="sc-rss" href="/feeds/all.rss.xml"
                       target="_blank">
                        <i class="fas fa-rss"></i>
                    </a>
                </li>
        </ul>
    </div>

<style>
    .button {
        background-color: yellow;
        color: black;
        border: none;
        padding: 10px 20px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        cursor: pointer;
        border-radius: 20px;
    }

    .center {
        text-align: center;
    }

    .container {
        display: grid;
        grid-template-columns: 1fr 1fr;
    }

    .left-col {
    }

    .right-col {
    }

    .image {
        border-radius: 0;
        width: 100%;
    }

    .book-list {
        padding-top:0;
        padding-bottom: 0;
        text-align:left;
        box-sizing: border-box;
        display: block;
        list-style-image: url(/images/shortcode-tick.webp);
        margin-block-start: 1em;
        margin-block-end: 1em;
        margin-inline-start:0;
        margin-inline-end:0;
        padding-inline-start:40px;
    }

    .book-list li {
        font-weight: bold;
    }

    @media (max-width: 600px) {
        .container {
            grid-template-columns: 1fr;
        }
    }

</style>
<div class="container">
    <div class="left-col">
        <a href="https://ksafjanuser.gumroad.com/l/mlops">
            <img src="/images/mlop_interview_book_cover_3D_300px.jpg" class="image" alt="Interview Book Cover">
        </a>

        <div class="center">
            <a href="https://ksafjanuser.gumroad.com/l/mlops">
                <button class="button">Get for $2.99</button>
            </a>
        </div>
    </div>
    <div class="right-col">
        <div>
            <ul class="book-list">
                <li>PDF, ePUB, mobi format ebook, no DRM</li>
                <li>50 questions and answers</li>
                <li>Stories from real projects</li>
                <li>92 multiple choice quiz questions</li>
                <li>80 pages</li>
            </ul>
        </div>
    </div>
</div>
</aside>
<main>

        <nav>
            <a href="https://www.safjan.com/">Home</a>

                <a href="/archives.html">Articles</a>
                <a href="/til.html">Notes</a>
                <a href="/categories.html">Categories</a>
                <a href="/pdfs/Krystian_Safjan_resume_priv.pdf">Resume</a>

                <a href="https://www.safjan.com/feeds/all.atom.xml">Atom</a>

                <a href="https://www.safjan.com/feeds/all.rss.xml">RSS</a>
        </nav>

    <article class="single">
        <header>
                
            <p>
                <!-- Posted on: -->
                2023-08-12 



                    <span id="post-share-links">
    &nbsp;&nbsp;&nbsp;Share on:
    <a href="https://twitter.com/intent/tweet?text=Create%20Self-Hosted%20Python%20Package%20Repository%20-%20General%20Guide&url=https%3A//www.safjan.com/Create%20Self-Hosted%20Python%20Package%20Repository/&hashtags=pypi,python,python-package,package-repository,artifactory,devpi" target="_blank" title="Share on Twitter">Twitter</a>
    |
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A//www.safjan.com/Create%20Self-Hosted%20Python%20Package%20Repository/" target="_blank" title="Share on Facebook">Facebook</a>
    |
    <a href="https://news.ycombinator.com/submitlink?t=Create%20Self-Hosted%20Python%20Package%20Repository%20-%20General%20Guide&u=https%3A//www.safjan.com/Create%20Self-Hosted%20Python%20Package%20Repository/" target="_blank" title="Share on HackerNews">HackerNews</a>
    |
    <a href="https://www.reddit.com/submit?url=https%3A//www.safjan.com/Create%20Self-Hosted%20Python%20Package%20Repository/&title=Create%20Self-Hosted%20Python%20Package%20Repository%20-%20General%20Guide" target="_blank" title="Share via Reddit">Reddit</a>
  </span>
                <br/>
            </p>
            <h1 id="Create Self-Hosted Python Package Repository">Create Self-Hosted Python Package Repository - General Guide</h1>
            <div class="header-underline"></div>



        </header>


        <div>
            <p>X::<a href="https://www.safjan.com/lesser-known-python-package-repository-managers/">Lesser-known Python Package Repository Managers</a>
X::<a href="https://www.safjan.com/storing-private-python-packages-with-local-nas-and-lightweight-servers/">Storing Private Python Packages with Local NAS and Lightweight Servers</a></p>
<p>Creating a self-hosted Python package repository allows you to host and manage your own Python packages, making them accessible to your team or the public without relying on external services like PyPI. Here's a general guide on how to set up a self-hosted Python package repository.</p>
<div class="highlight"><pre><span></span><code><span class="n">style</span><span class="o">:</span><span class="w"> </span><span class="n">bullet</span>
<span class="n">min_depth</span><span class="o">:</span><span class="w"> </span><span class="mi">2</span>
<span class="n">max_depth</span><span class="o">:</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span>
<span class="n">title</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;**Contents**&quot;</span>
</code></pre></div>

<h2>General Guide</h2>
<h3>Choose a Repository Manager</h3>
<p>You need a repository manager to host and manage your Python packages. Two popular options are:</p>
<ul>
<li><strong>Devpi</strong>: A powerful and customizable Python package repository server.</li>
<li><strong>Artifactory</strong>: A general-purpose repository manager that can host various types of packages, including Python.</li>
</ul>
<h3>Set Up a Server</h3>
<p>You will need a server to host your package repository. This could be a dedicated server, a cloud instance (AWS, GCP, Azure), or even a local machine if the repository is for internal use.</p>
<h3>Install and Configure the Repository Manager</h3>
<h4>Devpi</h4>
<ul>
<li>Install Devpi using pip: <code>pip install devpi-server devpi-web</code></li>
<li>Configure Devpi: Follow the instructions in the <a href="https://devpi.net/docs/devpi/devpi/stable/+doc/quickstart-server.html">official documentation</a>.</li>
</ul>
<h4>Artifactory</h4>
<p>Download and install Artifactory: Follow the instructions on the <a href="https://www.jfrog.com/confluence/display/JFROG/Installing+Artifactory">Artifactory website</a>.</p>
<h3>Create a Virtual Environment (optional but recommended)</h3>
<p>Set up a Python virtual environment on your server to keep your package repository isolated from the system Python.</p>
<h3>Upload Packages</h3>
<p>Once your repository manager is set up, use tools like <code>twine</code> to upload your Python packages. Make sure to specify your self-hosted repository URL.</p>
<h3>Accessing Packages</h3>
<p>To use packages from your self-hosted repository, users can modify their <code>pip.conf</code> or <code>.pypirc</code> configuration file to include your repository's URL.</p>
<h3>Security and Access Control</h3>
<p>Configure user authentication and access control to restrict who can upload and access packages in your repository.</p>
<h3>Maintenance and Backup</h3>
<ul>
<li>Regularly back up your package repository data to prevent data loss.</li>
<li>Keep your repository manager and server updated with security patches.</li>
</ul>
<h3>Documentation</h3>
<p>Provide clear documentation to your team on how to access, upload, and manage packages in your self-hosted repository.</p>
<h2>Artifactory vs. Devpi - pros &amp; cons and setup instructions</h2>
<p>Let's explore two popular free and open-source options for creating a self-hosted Python package repository: Devpi and Artifactory, along with their pros, cons, use cases, and a tutorial for setting up each.</p>
<h3>Option 1: Devpi</h3>
<p><strong>Pros:</strong>
- Designed specifically for Python package management.
- Provides features like caching, replication, and access control.
- Supports easy package versioning and management.</p>
<p><strong>Cons:</strong>
- Limited support for non-Python packages.
- Web interface might not be as polished as other solutions.</p>
<p><strong>Use Cases:</strong>
- Small to medium-sized teams working exclusively with Python.
- Projects where ease of setup and simple usage is preferred.</p>
<p><strong>Tutorial:</strong></p>
<ol>
<li><strong>Install Devpi</strong>:</li>
</ol>
<div class="highlight"><pre><span></span><code>pip install devpi-server devpi-web
</code></pre></div>

<ol>
<li><strong>Create and Configure Devpi Server</strong>:</li>
<li>Initialize a new Devpi server:</li>
</ol>
<div class="highlight"><pre><span></span><code>devpi-server --init
</code></pre></div>

<ul>
<li>Start the Devpi server:</li>
</ul>
<div class="highlight"><pre><span></span><code>devpi-server
</code></pre></div>

<ol>
<li><strong>Create Users and Indexes</strong>:</li>
<li>Create a user:</li>
</ol>
<div class="highlight"><pre><span></span><code>devpi use http://localhost:3141
devpi user -c &lt;username&gt;
</code></pre></div>

<ul>
<li>Create an index:</li>
</ul>
<div class="highlight"><pre><span></span><code>devpi index -c &lt;indexname&gt;
</code></pre></div>

<ol>
<li><strong>Upload and Use Packages</strong>:</li>
<li>Upload a package:</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="n">devpi</span><span class="w"> </span><span class="n">upload</span>
</code></pre></div>

<ul>
<li>Install a package from your Devpi index:</li>
</ul>
<div class="highlight"><pre><span></span><code>pip install -i http://localhost:3141/&lt;username&gt;/&lt;indexname&gt;/simple/ &lt;package&gt;
</code></pre></div>

<h3>Option 2: Artifactory</h3>
<p><strong>Pros:</strong>
- Versatile repository manager supporting multiple package types.
- Robust access control and security features.
- Highly configurable and scalable.</p>
<p><strong>Cons:</strong>
- More complex setup compared to Devpi.
- Heavier resource requirements.</p>
<p><strong>Use Cases:</strong>
- Large organizations with diverse technology stacks.
- Projects needing advanced access control and security features.</p>
<p><strong>Tutorial:</strong></p>
<ol>
<li><strong>Install Artifactory</strong>:</li>
<li>
<p>Follow the installation guide for <a href="https://www.jfrog.com/confluence/display/JFROG/Installing+Artifactory">Artifactory Community Edition</a>.</p>
</li>
<li>
<p><strong>Configure Artifactory</strong>:</p>
</li>
<li>
<p>Access Artifactory's web interface and set up your repository.</p>
</li>
<li>
<p><strong>Create a Virtual Repository</strong>:</p>
</li>
<li>
<p>Create a new virtual repository and include a "PyPI" remote repository as a source.</p>
</li>
<li>
<p><strong>Upload Packages</strong>:</p>
</li>
<li>Use <code>twine</code> to upload your Python packages to your virtual repository:</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="n">twine</span><span class="w"> </span><span class="n">upload</span><span class="w"> </span><span class="o">--</span><span class="n">repository</span><span class="o">-</span><span class="n">url</span><span class="w"> </span><span class="o">&lt;</span><span class="n">Artifactory_URL</span><span class="o">&gt;/&lt;</span><span class="n">repository_name</span><span class="o">&gt;</span><span class="w"> </span><span class="n">dist</span><span class="o">/*</span>
</code></pre></div>

<ol>
<li><strong>Access and Use Packages</strong>:</li>
<li>Configure your pip to use your Artifactory repository as an index:</li>
</ol>
<div class="highlight"><pre><span></span><code>pip config set global.index-url &lt;Artifactory_URL&gt;/&lt;repository_name&gt;/simple/
</code></pre></div>

<ul>
<li>Install packages as usual using pip.</li>
</ul>
<h2>Closing thoughts</h2>
<ul>
<li>Setting up a self-hosted Python package repository requires careful consideration of your team's needs and technical expertise. Choose the option that best aligns with your requirements and resources.</li>
<li>Remember, setting up and maintaining a self-hosted package repository requires technical expertise and ongoing maintenance. If you're not experienced with server management and administration, consider starting with a simpler approach or seeking help from someone with relevant experience.</li>
</ul>
        </div>


        <div class="tag-cloud">
            <p>
                    <br/><br/>Tags:&nbsp;
                        <a href="https://www.safjan.com/tag/pypi/">pypi</a>
                        <a href="https://www.safjan.com/tag/python/">python</a>
                        <a href="https://www.safjan.com/tag/python-package/">python-package</a>
                        <a href="https://www.safjan.com/tag/package-repository/">package-repository</a>
                        <a href="https://www.safjan.com/tag/artifactory/">artifactory</a>
                        <a href="https://www.safjan.com/tag/devpi/">devpi</a>
            </p>
        </div>








            <div class="related-posts">
                <h4>You might enjoy</h4>
                <ul class="related-posts">
                        <li><a href="https://www.safjan.com/lesser-known-python-package-repository-managers/">Lesser-known Python Package Repository Managers</a></li>
                        <li><a href="https://www.safjan.com/storing-private-python-packages-with-local-nas-and-lightweight-servers/">Storing Private Python Packages with Local NAS and Lightweight Servers</a></li>
                        <li><a href="https://www.safjan.com/cookiecutter-for-the-python-package-with-poetry/">Cookiecutters for the python package with poetry</a></li>
                        <li><a href="https://www.safjan.com/script-to-python-package-using-poetry-and-pycharm/">Script to Python Package Using Poetry (And PyCharm)</a></li>
                        <li><a href="https://www.safjan.com/10-problems-with-Langchain-and-how-to-minimize-their-impact/">10 Problems with Langchain and how to minimize their impact</a></li>
                </ul>
            </div>

  <div class="neighbors">
    <a class="btn float-left" href="https://www.safjan.com/cookiecutter-alternatives/" title="Cookiecutter alternatives">
      <i class="fa fa-angle-left"></i> Previous Post
    </a>
    <a class="btn float-right" href="https://www.safjan.com/understanding-retrieval-augmented-generation-rag-empowering-llms/" title="Understanding Retrieval-Augmented Generation (RAG) empowering LLMs">
      Next Post <i class="fa fa-angle-right"></i>
    </a>
  </div>


    </article>

    <footer>
<p>
  &copy; 2023 Krystian Safjan - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/deed.en_US" target="_blank">Creative Commons Attribution-ShareAlike</a>
</p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p><p>
  <a rel="license"
     href="http://creativecommons.org/licenses/by-sa/4.0/"
     target="_blank">
    <img alt="Creative Commons License"
         title="Creative Commons License"
         style="border-width:0"
           src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"
         width="80"
         height="15"/>
  </a>
</p>    </footer>
</main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Krystian Safjan's Blog ",
  "url" : "https://www.safjan.com",
  "image": "/images/profile_new.jpg",
  "description": ""
}
</script>

</body>
</html>